<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.1"/>
    <title>ART.ModuleDetector API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style><script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
    };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
    /* Re-invoke MathJax when DOM content changes, for example during search. */
    document.addEventListener("DOMContentLoaded", () => {
        new MutationObserver(() => MathJax.typeset()).observe(
            document.querySelector("main.pdoc").parentNode,
            {childList: true}
        );
    })
</script>
<style>
    mjx-container {
        overflow-x: auto;
    }
</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../ART.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;ART</a>

            <img src="../logo.png" class="logo" alt="project logo"/>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#Detector">Detector</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Detector.__init__">Detector</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.copy_detector">copy_detector</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.autoplace">autoplace</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.get_distance">get_distance</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.shiftToDistance">shiftToDistance</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.shiftByDistance">shiftByDistance</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.get_PointList3D">get_PointList3D</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.get_PointList2D">get_PointList2D</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.get_PointList2DCentre">get_PointList2DCentre</a>
                        </li>
                        <li>
                                <a class="function" href="#Detector.get_Delays">get_Delays</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../ART.html">ART</a><wbr>.ModuleDetector    </h1>

                        <div class="docstring"><p>Provides a class which represents a virtual detector —a plane in 3D space— with methods
to analyze the impact points of a ray bundle intercepting it.</p>

<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgd2lkdGg9IjIxMS42NjY2N21tIgogICBoZWlnaHQ9IjEwMy42ODY5Nm1tIgogICB2aWV3Qm94PSIwIDAgMjExLjY2NjY3IDEwMy42ODY5NiIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnODIwOSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4yLjIgKGIwYTg0ODY1NDEsIDIwMjItMTItMDEpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJkZXRlY3Rvci5zdmciCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM4MjAzIj4KICAgIDxtYXJrZXIKICAgICAgIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlIgogICAgICAgaWQ9Im1hcmtlcjEwMTg0IgogICAgICAgcmVmWD0iMCIKICAgICAgIHJlZlk9IjAiCiAgICAgICBvcmllbnQ9ImF1dG8iCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJUcmlhbmdsZU91dE0iCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHBhdGgKICAgICAgICAgdHJhbnNmb3JtPSJzY2FsZSgwLjQpIgogICAgICAgICBzdHlsZT0iZmlsbDojOTMwMDAwO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojOTMwMDAwO3N0cm9rZS13aWR0aDoxcHQ7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSA1Ljc3LDAgLTIuODgsNSBWIC01IFoiCiAgICAgICAgIGlkPSJwYXRoMTAxODIiIC8+CiAgICA8L21hcmtlcj4KICAgIDxtYXJrZXIKICAgICAgIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlIgogICAgICAgaWQ9Im1hcmtlcjEwMTc0IgogICAgICAgcmVmWD0iMCIKICAgICAgIHJlZlk9IjAiCiAgICAgICBvcmllbnQ9ImF1dG8iCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJUcmlhbmdsZUluTSIKICAgICAgIGlua3NjYXBlOmlzc3RvY2s9InRydWUiPgogICAgICA8cGF0aAogICAgICAgICB0cmFuc2Zvcm09InNjYWxlKC0wLjQpIgogICAgICAgICBzdHlsZT0iZmlsbDojOTMwMDAwO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojOTMwMDAwO3N0cm9rZS13aWR0aDoxcHQ7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSA1Ljc3LDAgLTIuODgsNSBWIC01IFoiCiAgICAgICAgIGlkPSJwYXRoMTAxNzIiIC8+CiAgICA8L21hcmtlcj4KICAgIDxtYXJrZXIKICAgICAgIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlIgogICAgICAgaWQ9IlRyaWFuZ2xlT3V0TSIKICAgICAgIHJlZlg9IjAiCiAgICAgICByZWZZPSIwIgogICAgICAgb3JpZW50PSJhdXRvIgogICAgICAgaW5rc2NhcGU6c3RvY2tpZD0iVHJpYW5nbGVPdXRNIgogICAgICAgaW5rc2NhcGU6aXNzdG9jaz0idHJ1ZSIKICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyI+CiAgICAgIDxwYXRoCiAgICAgICAgIHRyYW5zZm9ybT0ic2NhbGUoMC40KSIKICAgICAgICAgc3R5bGU9ImZpbGw6IzkzMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzkzMDAwMDtzdHJva2Utd2lkdGg6MXB0O3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICAgIGQ9Ik0gNS43NywwIC0yLjg4LDUgViAtNSBaIgogICAgICAgICBpZD0icGF0aDI3OTQiIC8+CiAgICA8L21hcmtlcj4KICAgIDxtYXJrZXIKICAgICAgIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlIgogICAgICAgaWQ9IlRyaWFuZ2xlSW5NIgogICAgICAgcmVmWD0iMCIKICAgICAgIHJlZlk9IjAiCiAgICAgICBvcmllbnQ9ImF1dG8iCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJUcmlhbmdsZUluTSIKICAgICAgIGlua3NjYXBlOmlzc3RvY2s9InRydWUiCiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiPgogICAgICA8cGF0aAogICAgICAgICB0cmFuc2Zvcm09InNjYWxlKC0wLjQpIgogICAgICAgICBzdHlsZT0iZmlsbDojOTMwMDAwO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojOTMwMDAwO3N0cm9rZS13aWR0aDoxcHQ7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSA1Ljc3LDAgLTIuODgsNSBWIC01IFoiCiAgICAgICAgIGlkPSJwYXRoMjc4NSIgLz4KICAgIDwvbWFya2VyPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iODc3LjU1MzczIDogLTEwNjQuNDQgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iLTEyOTIuNjc0NSA6IDM1NTEuNTk0MyA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDg4LjA3NDUgOiAxNjE0LjE3NzUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ii0zMTUuMTI0MTcgOiAyMzUuNjcxMjEgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlODg3OCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9Ii0xMzA5Ljk2OSA6IC0xMzA5LjU5OTQgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMzc3OS41MTg3IDogLTguMDk1MjM5NSA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSItMTk1NC43MTA3IDogMzU1LjUzMTk3IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSItMjUwMi42NDY5IDogLTkuNDg4MjI4NiA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmU4ODQ4IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMTM3NS44ODIxIDogLTQ1NC41MDg4OSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSItNy40NzEwOTg4ZS0xMyA6IDgwNy4wMzM1NyA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI5MDguODUwNzEgOiA1MTQuODc2IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSItNzcyLjM4NzU2IDogLTE2NC44MDQgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlODgxOCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjE1MC44MjE1MSA6IDk3LjUyNDQxNyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSI0NzQuMTA0MTUgOiAwLjcyMTk2OTU3IDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY5Ljk0NDg4MSA6IC01MC45NzkyNDkgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjEuMjExNTc3MiA6IC0xOC40MjUzMDUgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlODc3MiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjI0NC44MjAwOSA6IDI3My4yODU4NSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMjA4OC4xNjYxIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY1OC4wMTA1NiA6IDMzMC4zNjAyNCA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNDg3Ljg5MDAyIDogNC4zNjgwNzk2IDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTk0OTEiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIxLjk3OTg5OSIKICAgICBpbmtzY2FwZTpjeD0iNDU5LjYxOTQxIgogICAgIGlua3NjYXBlOmN5PSIyMTcuNDM1MzQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImczMzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtcm90YXRpb249IjAiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOSIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTkiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpzaG93cGFnZXNoYWRvdz0iMCIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIgogICAgIGlua3NjYXBlOmRlc2tjb2xvcj0iI2QxZDFkMSIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE4MjA2Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJDYWxxdWUgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTkuMzUxNTk3LC02Mi42NDA4MzgpIj4KICAgIDxnCiAgICAgICBpZD0iZzMzMSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNzcyNDEwMDgsMCwwLDAuNzcyNDU0OTEsLTQuMzkxOTQ1OCwxNC4yNTM2MTUpIgogICAgICAgc3R5bGU9InN0cm9rZS13aWR0aDoxLjI5NDYxIj4KICAgICAgPGcKICAgICAgICAgaWQ9Imc5ODQ2IgogICAgICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLjU3NjkxNTY2LC0wLjIwOTU2Nzc5LDAuMjA5NTY3NzksMC41NzY5MTU2NiwtNy4yODk5MTA1LDIyMy40MzM0NikiCiAgICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6Mi4xMDkxOCI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBkPSJtIDQwOS4zMTk0NywtMTAxLjExMDE0IHYgODUuNzAyNTc0IGwgNy44MjY3LC0zLjAyOTYxMyB2IC04My4wMDUzODEgeiIKICAgICAgICAgICBzdHlsZT0iZmlsbDojMzU2NDM5O2ZpbGwtb3BhY2l0eTowLjgyNDcxMztmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MjkuMjU1NDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICAgICAgaWQ9InBhdGg5ODM2IiAvPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgZD0ibSA0MDkuMzE5NDcsLTE1LjQwNzU2NiA0MC4yNDk4NSw5LjU4OTIwNTYgOC4xMDI2OCwtNC4xMTQ4NDM5IC00MC41MjU4MywtOC41MDM5NzQ3IHoiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6I2FmZGViNDtmaWxsLW9wYWNpdHk6MC44MjQ3MTM7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjI5LjI1NTQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgICAgIGlkPSJwYXRoOTgzOCIgLz4KICAgICAgICA8cGF0aAogICAgICAgICAgIGQ9Im0gNDA5LjMxOTQ3LC0xMDEuMTEwMTQgNDAuMjQ5ODUsLTExLjM4MDU4IDguMTAyNjgsMC4wMzE4IC00MC41MjU4MywxMS4wMTYzNSB6IgogICAgICAgICAgIHN0eWxlPSJmaWxsOiM1MTlmNGQ7ZmlsbC1vcGFjaXR5OjAuODI0NzEzO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoyOS4yNTU0O3N0cm9rZS1saW5lam9pbjpyb3VuZCIKICAgICAgICAgICBpZD0icGF0aDk4NDAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBkPSJNIDQ0OS41NjkzMiwtMTEyLjQ5MDcyIFYgLTUuODE4MzYwNCBMIDQ1Ny42NzIsLTkuOTMzMjA0MyBWIC0xMTIuNDU4OTEgWiIKICAgICAgICAgICBzdHlsZT0iZmlsbDojZDdmZmQ4O2ZpbGwtb3BhY2l0eTowLjgyNDcxMztmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MjkuMjU1NDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICAgICAgaWQ9InBhdGg5ODQyIiAvPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgZD0ibSA0MDkuMzE5NDcsLTEwMS4xMTAxNCA0MC4yNDk4NSwtMTEuMzgwNTggViAtNS44MTgzNjQgbCAtNDAuMjQ5ODUsLTkuNTg5MjA1IHoiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6Izg2YmY4YjtmaWxsLW9wYWNpdHk6MC44MjQ3MTM7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjI5LjI1NTQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgICAgIGlkPSJwYXRoOTg0NCIgLz4KICAgICAgPC9nPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjczMTQ1O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheToyLjE5NDM3LCAyLjE5NDM3O3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0ibSAxMDcuODk3NSwxOTYuODcxMjcgdiAtMzYuNDU0OSIKICAgICAgICAgaWQ9InBhdGg5NTgwIiAvPgogICAgICA8ZwogICAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpib3gzZCIKICAgICAgICAgaWQ9Imc4Nzc0IgogICAgICAgICBzdHlsZT0iZmlsbDojOTk5OTk5O2ZpbGwtb3BhY2l0eTowLjYxNDk0MztzdHJva2Utd2lkdGg6Mi4yNzUyNSIKICAgICAgICAgaW5rc2NhcGU6cGVyc3BlY3RpdmVJRD0iI3BlcnNwZWN0aXZlODc3MiIKICAgICAgICAgaW5rc2NhcGU6Y29ybmVyMD0iMS4wMTgzMTY4IDogMC4yNzAwOTc3MyA6IDAgOiAxIgogICAgICAgICBpbmtzY2FwZTpjb3JuZXI3PSIwLjM0ODUyMDc5IDogLTAuMDA0NTI2MzI0MyA6IDAuMDAwNTk3MjUxMjEgOiAxIj4KICAgICAgICA8cGF0aAogICAgICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOmJveDNkc2lkZSIKICAgICAgICAgICBpZD0icGF0aDg3ODYiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6Izk5OTk5OTtmaWxsLW9wYWNpdHk6MC42MTQ5NDM7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuOTE4NDI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgICAgIGlua3NjYXBlOmJveDNkc2lkZXR5cGU9IjExIgogICAgICAgICAgIGQ9Im0gMTYyLjAzOTc4LDE0NC45MDAxNSAtNi44Nzc5MSwzNi44Nzg0OCAtMTI0Ljk0MzcyMSwwLjE5MDI2IDQ4LjMyOTMwOSwtMzYuOTQxNiB6IgogICAgICAgICAgIHBvaW50cz0iMTU1LjE2MTg3LDE4MS43Nzg2MyAzMC4yMTgxNDksMTgxLjk2ODg5IDc4LjU0NzQ1OCwxNDUuMDI3MjkgMTYyLjAzOTc4LDE0NC45MDAxNSAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpib3gzZHNpZGUiCiAgICAgICAgICAgaWQ9InBhdGg4Nzc2IgogICAgICAgICAgIHN0eWxlPSJmaWxsOiM5OTk5OTk7ZmlsbC1vcGFjaXR5OjAuNjE0OTQzO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjkxODQyO3N0cm9rZS1saW5lam9pbjpyb3VuZCIKICAgICAgICAgICBpbmtzY2FwZTpib3gzZHNpZGV0eXBlPSI2IgogICAgICAgICAgIGQ9Im0gMTYyLjA2NjY3LDE0NC44NjUyNSAtODMuNTE3MDM0LDAuMTI3MTcgLTAuMDAyMiwwLjAzNDkgODMuNDkyMzIyLC0wLjEyNzE0IHoiCiAgICAgICAgICAgcG9pbnRzPSI3OC41NDk2MzYsMTQ0Ljk5MjQyIDc4LjU0NzQ1OCwxNDUuMDI3MjkgMTYyLjAzOTc4LDE0NC45MDAxNSAxNjIuMDY2NjcsMTQ0Ljg2NTI1ICIgLz4KICAgICAgICA8cGF0aAogICAgICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOmJveDNkc2lkZSIKICAgICAgICAgICBpZD0icGF0aDg3ODQiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6Izk5OTk5OTtmaWxsLW9wYWNpdHk6MC42MTQ5NDM7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuOTE4NDI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgICAgIGlua3NjYXBlOmJveDNkc2lkZXR5cGU9IjEzIgogICAgICAgICAgIGQ9Im0gNzguNTQ5NjM2LDE0NC45OTI0MiAtNDguMzQ5NjMyLDM2Ljk0MDY0IDAuMDE4MTUsMC4wMzU4IDQ4LjMyOTMwOSwtMzYuOTQxNiB6IgogICAgICAgICAgIHBvaW50cz0iMzAuMjAwMDA0LDE4MS45MzMwNiAzMC4yMTgxNDksMTgxLjk2ODg5IDc4LjU0NzQ1OCwxNDUuMDI3MjkgNzguNTQ5NjM2LDE0NC45OTI0MiAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpib3gzZHNpZGUiCiAgICAgICAgICAgaWQ9InBhdGg4Nzc4IgogICAgICAgICAgIHN0eWxlPSJmaWxsOiM5OTk5OTk7ZmlsbC1vcGFjaXR5OjAuNjE0OTQzO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjkxODQyO3N0cm9rZS1saW5lam9pbjpyb3VuZCIKICAgICAgICAgICBpbmtzY2FwZTpib3gzZHNpZGV0eXBlPSI1IgogICAgICAgICAgIGQ9Im0gMTYyLjA2NjY3LDE0NC44NjUyNSAtNi44Njc2MSwzNi44Nzc0NyAtMC4wMzcyLDAuMDM1OSA2Ljg3NzkxLC0zNi44Nzg0OCB6IgogICAgICAgICAgIHBvaW50cz0iMTU1LjE5OTA2LDE4MS43NDI3MiAxNTUuMTYxODcsMTgxLjc3ODYzIDE2Mi4wMzk3OCwxNDQuOTAwMTUgMTYyLjA2NjY3LDE0NC44NjUyNSAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpib3gzZHNpZGUiCiAgICAgICAgICAgaWQ9InBhdGg4NzgyIgogICAgICAgICAgIHN0eWxlPSJmaWxsOiM5OTk5OTk7ZmlsbC1vcGFjaXR5OjAuNjE0OTQzO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjkxODQyO3N0cm9rZS1saW5lam9pbjpyb3VuZCIKICAgICAgICAgICBpbmtzY2FwZTpib3gzZHNpZGV0eXBlPSIxNCIKICAgICAgICAgICBkPSJtIDE1NS4xOTkwNiwxODEuNzQyNzIgLTEyNC45OTkwNTYsMC4xOTAzNCAwLjAxODE1LDAuMDM1OCAxMjQuOTQzNzIxLC0wLjE5MDI2IHoiCiAgICAgICAgICAgcG9pbnRzPSIzMC4yMDAwMDQsMTgxLjkzMzA2IDMwLjIxODE0OSwxODEuOTY4ODkgMTU1LjE2MTg3LDE4MS43Nzg2MyAxNTUuMTk5MDYsMTgxLjc0MjcyICIgLz4KICAgICAgICA8cGF0aAogICAgICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOmJveDNkc2lkZSIKICAgICAgICAgICBpZD0icGF0aDg3ODAiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6Izk5OTk5OTtmaWxsLW9wYWNpdHk6MC42MTQ5NDM7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuOTE4NDI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgICAgIGlua3NjYXBlOmJveDNkc2lkZXR5cGU9IjMiCiAgICAgICAgICAgZD0ibSAxNjIuMDY2NjcsMTQ0Ljg2NTI1IC02Ljg2NzYxLDM2Ljg3NzQ3IC0xMjQuOTk5MDU2LDAuMTkwMzQgNDguMzQ5NjMyLC0zNi45NDA2NCB6IgogICAgICAgICAgIHBvaW50cz0iMTU1LjE5OTA2LDE4MS43NDI3MiAzMC4yMDAwMDQsMTgxLjkzMzA2IDc4LjU0OTYzNiwxNDQuOTkyNDIgMTYyLjA2NjY3LDE0NC44NjUyNSAiIC8+CiAgICAgIDwvZz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC43MzE0NTY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5OjIuMTk0MzcsIDIuMTk0Mzc7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIDkzLjI5ODY3MywxOTMuODA0NDcgMTIxLjE3NzU4LDEzMS4wODkwOCIKICAgICAgICAgaWQ9InBhdGg4ODAyIiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjczMTQ1NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6Mi4xOTQzNywgMi4xOTQzNztzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICAgIGQ9Ik0gNDAuODk2MjQxLDE2MC41MTc0NSBIIDE3Mi4zMDAzMiIKICAgICAgICAgaWQ9InBhdGg5NTc2IiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojZmYwMDAwO3N0cm9rZS13aWR0aDowLjg2MDkyMTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0xOS4yOTc2MjksMTQzLjMxMjIxIDk5LjIxMjYyOSwxNTUuOTA0NjcgMjIzLjc4MTYsOTYuODg0MzMyIgogICAgICAgICBpZD0icGF0aDk1NzIiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjIiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojZmYwMDAwO3N0cm9rZS13aWR0aDowLjg2MDkyMTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0xOS4yOTc2MjksMTQzLjMxMjIxIDExOS4wNjI2OSwxNjYuMDcxNzUgMjMzLjcyMzc5LDk3LjkwMjY5MyIKICAgICAgICAgaWQ9InBhdGg5NTc0IgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC43MzE0NTY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5OjIuMTk0MzcsIDIuMTk0Mzc7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIDEwNy44OTc1LDE2MC40MTYzNyBWIDEzMS44MjI1MiIKICAgICAgICAgaWQ9InBhdGg5NTc4IiAvPgogICAgICA8ZwogICAgICAgICBpZD0iZzk1OTAiCiAgICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNjEzNzk5OTIsMCwwLDAuNjEzNzk5OTIsLTcuNDY1NTM5Myw3Ni4wMzE3MDEpIgogICAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjIuMTA5MTgiPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41NTgwNTFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICAgIGQ9Im0gMzc5LjM5MzYsMzcuNTE0MTM1IC0zLjAyMTM4LC04LjUwNzkxOSA1LjQyNTMxLC0yLjI4ODgxOCIKICAgICAgICAgICBpZD0icGF0aDk1ODQiCiAgICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2MiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjE5MTY4O3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTozLjU3NTA2LCAzLjU3NTA2O3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgICBpZD0icGF0aDk1ODYiCiAgICAgICAgICAgc29kaXBvZGk6dHlwZT0iYXJjIgogICAgICAgICAgIHNvZGlwb2RpOmN4PSIxMjAuOTYxMDciCiAgICAgICAgICAgc29kaXBvZGk6Y3k9Ii0zNjIuMzExMDciCiAgICAgICAgICAgc29kaXBvZGk6cng9IjAuNDk5OTk5OTciCiAgICAgICAgICAgc29kaXBvZGk6cnk9IjAuMzU4MjU4OSIKICAgICAgICAgICBzb2RpcG9kaTpzdGFydD0iNC43MDk2MTM5IgogICAgICAgICAgIHNvZGlwb2RpOmVuZD0iNC42NzI0MTEyIgogICAgICAgICAgIHNvZGlwb2RpOmFyYy10eXBlPSJhcmMiCiAgICAgICAgICAgZD0ibSAxMjAuOTU5NjgsLTM2Mi42NjkzMiBhIDAuNDk5OTk5OTcsMC4zNTgyNTg5IDAgMCAxIDAuNTAxMzUsMC4zNTM5MyAwLjQ5OTk5OTk3LDAuMzU4MjU4OSAwIDAgMSAtMC40ODkyOCwwLjM2MjUgMC40OTk5OTk5NywwLjM1ODI1ODkgMCAwIDEgLTAuNTEwNDUsLTAuMzQ3MTkgMC40OTk5OTk5NywwLjM1ODI1ODkgMCAwIDEgMC40Nzk3OCwtMC4zNjg5NiIKICAgICAgICAgICBzb2RpcG9kaTpvcGVuPSJ0cnVlIgogICAgICAgICAgIHRyYW5zZm9ybT0icm90YXRlKDc2LjI4MDk0NSkiIC8+CiAgICAgIDwvZz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6I2ZmMDAwMDtzdHJva2Utd2lkdGg6MC43MzE0NTY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0ibSA1Mi4xMjU2MjcsMTQ2LjQwOTE2IDIuOTUyOTAzLDEuODQ1NTYgLTMuMDc1OTM5LDEuNTE3NDciCiAgICAgICAgIGlkPSJwYXRoOTU5MiIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6I2ZmMDAwMDtzdHJva2Utd2lkdGg6MC43MzE0NTY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0ibSA1MS4xMzE3MDYsMTUxLjAzMDU5IDIuODM3MzIsMi4wMTg3NCAtMy4xNjExMjEsMS4zMzA5MyIKICAgICAgICAgaWQ9InBhdGg5NTk0IiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojZmYwMDAwO3N0cm9rZS13aWR0aDowLjczMTQ1NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJtIDQ4LjkwMjM3MiwxNTUuMTM3MzEgMi43OTU4MDgsMi4wNzU4NCAtMy4xODc0NTIsMS4yNjY1OCIKICAgICAgICAgaWQ9InBhdGg5NTk2IiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojZmYwMDAwO3N0cm9rZS13aWR0aDowLjczMTQ1NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJtIDE2NC40NDQ5NSwxMjIuMzE4NjIgMy40ODIwOCwwLjAyODkgLTEuODI4MjksMi45MDE5NyIKICAgICAgICAgaWQ9InBhdGg5NTk4IiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojZmYwMDAwO3N0cm9rZS13aWR0aDowLjczMTQ1NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJtIDE2Ny44NzA1MSwxMjcuMTUzNDkgMy40ODIxNSwwLjAxOTYgLTEuODIwNTQsMi45MDY4NCIKICAgICAgICAgaWQ9InBhdGg5NjAwIiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojZmYwMDAwO3N0cm9rZS13aWR0aDowLjczMTQ1NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJtIDE3MC4xNTE5MywxMzMuMDM3IDMuNDc2NzYsLTAuMTk0MzkgLTEuNjM4NDYsMy4wMTMyMiIKICAgICAgICAgaWQ9InBhdGg5NjAyIgogICAgICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXg9IjEuODY3MDExNiIKICAgICAgICAgaW5rc2NhcGU6dHJhbnNmb3JtLWNlbnRlci15PSIxLjQ1ODkwNjgiIC8+CiAgICAgIDx0ZXh0CiAgICAgICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjYuNDk2MDNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6MHB4O3dvcmQtc3BhY2luZzowcHg7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjM0MjUzMiIKICAgICAgICAgeD0iMTg2Ljk4ODU5IgogICAgICAgICB5PSI3My41ODA3NzIiCiAgICAgICAgIGlkPSJ0ZXh0OTYwNiI+PHRzcGFuCiAgICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgICBpZD0idHNwYW45NjA0IgogICAgICAgICAgIHg9IjE4Ni45ODg1OSIKICAgICAgICAgICB5PSI3My41ODA3NzIiCiAgICAgICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1mYW1pbHk6J0Jvb2ttYW4gT2xkIFN0eWxlJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidCb29rbWFuIE9sZCBTdHlsZSc7c3Ryb2tlLXdpZHRoOjAuMzQyNTMyIj5kZXRlY3RvcjwvdHNwYW4+PC90ZXh0PgogICAgICA8dGV4dAogICAgICAgICB4bWw6c3BhY2U9InByZXNlcnZlIgogICAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZTo2LjQ5NjAzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC4zNDI1MzIiCiAgICAgICAgIHg9IjQyLjU4NTc1OCIKICAgICAgICAgeT0iMTc3Ljg1NTgyIgogICAgICAgICBpZD0idGV4dDk2MTAiPjx0c3BhbgogICAgICAgICAgIHNvZGlwb2RpOnJvbGU9ImxpbmUiCiAgICAgICAgICAgaWQ9InRzcGFuOTYwOCIKICAgICAgICAgICB4PSI0Mi41ODU3NTgiCiAgICAgICAgICAgeT0iMTc3Ljg1NTgyIgogICAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtZmFtaWx5OidCb29rbWFuIE9sZCBTdHlsZSc7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonQm9va21hbiBPbGQgU3R5bGUnO3N0cm9rZS13aWR0aDowLjM0MjUzMiI+b3B0aWNhbCBlbGVtZW50PC90c3Bhbj48L3RleHQ+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMzQyNTMycHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAyMjguNzEyMjQsOTcuMTQzODYxIDIyMi45ODE1Nyw4MS4xODIzMDQiCiAgICAgICAgIGlkPSJwYXRoMTAwNjAiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiM5MzAwMDA7c3Ryb2tlLXdpZHRoOjAuOTkwMzc0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7bWFya2VyLXN0YXJ0OnVybCgjVHJpYW5nbGVJbk0pO21hcmtlci1lbmQ6dXJsKCNUcmlhbmdsZU91dE0pIgogICAgICAgICBkPSJNIDEwNC41NjEwOCwxNDYuNTgzMDcgMjIyLjUzMjExLDg0LjkyODYwMyIKICAgICAgICAgaWQ9InBhdGgxMDA2NCIgLz4KICAgICAgPHRleHQKICAgICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6Ni40OTYwM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiM5MzAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuMzQyNTMyIgogICAgICAgICB4PSI1My4wMzk1MTYiCiAgICAgICAgIHk9IjE3Ny4xOTg2MSIKICAgICAgICAgaWQ9InRleHQxMDE0NCIKICAgICAgICAgdHJhbnNmb3JtPSJyb3RhdGUoLTI3LjU5NTU5OSkiPjx0c3BhbgogICAgICAgICAgIHNvZGlwb2RpOnJvbGU9ImxpbmUiCiAgICAgICAgICAgaWQ9InRzcGFuMTAxNDIiCiAgICAgICAgICAgeD0iNTMuMDM5NTE2IgogICAgICAgICAgIHk9IjE3Ny4xOTg2MSIKICAgICAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LWZhbWlseTonQm9va21hbiBPbGQgU3R5bGUnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J0Jvb2ttYW4gT2xkIFN0eWxlJztmaWxsOiM5MzAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjAuMzQyNTMyIj5EaXN0YW5jZU1pcnJvckRldGVjdG9yPC90c3Bhbj48L3RleHQ+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiM5MzAwMDA7c3Ryb2tlLXdpZHRoOjAuOTkwMzc0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7bWFya2VyLXN0YXJ0OnVybCgjbWFya2VyMTAxNzQpIgogICAgICAgICBkPSJtIDIxNS44MDM2LDEyNS43NjU0NiAxOC44MjkwNiwtOS40MDMiCiAgICAgICAgIGlkPSJwYXRoMTAxNzAiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiM5MzAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiM5MzAwMDA7c3Ryb2tlLXdpZHRoOjAuOTkwNDYyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgaWQ9InBhdGgxMDI3MSIKICAgICAgICAgc29kaXBvZGk6dHlwZT0iYXJjIgogICAgICAgICBzb2RpcG9kaTpjeD0iMTQzLjM0NzIxIgogICAgICAgICBzb2RpcG9kaTpjeT0iMjIyLjA3MTY0IgogICAgICAgICBzb2RpcG9kaTpyeD0iMC42ODAzNjE4MSIKICAgICAgICAgc29kaXBvZGk6cnk9IjEuMzczNzYzNyIKICAgICAgICAgc29kaXBvZGk6c3RhcnQ9IjQuNzA5NjEzOSIKICAgICAgICAgc29kaXBvZGk6ZW5kPSI0LjY3MjQwMzUiCiAgICAgICAgIHNvZGlwb2RpOm9wZW49InRydWUiCiAgICAgICAgIHNvZGlwb2RpOmFyYy10eXBlPSJhcmMiCiAgICAgICAgIGQ9Im0gMTQzLjM0NTMzLDIyMC42OTc4OCBhIDAuNjgwMzYxODEsMS4zNzM3NjM3IDAgMCAxIDAuNjgyMiwxLjM1NzE3IDAuNjgwMzYxODEsMS4zNzM3NjM3IDAgMCAxIC0wLjY2NTc3LDEuMzkwMDQgMC42ODAzNjE4MSwxLjM3Mzc2MzcgMCAwIDEgLTAuNjk0NTksLTEuMzMxMzEgMC42ODAzNjE4MSwxLjM3Mzc2MzcgMCAwIDEgMC42NTI4NSwtMS40MTQ4MSIKICAgICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC44NTI1NzM2MywtMC41MjI2MDcxMywwLjUwNzI0MTA4LDAuODYxODA0MjEsMCwwKSIgLz4KICAgICAgPHRleHQKICAgICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6Ni40OTYwM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiM5MzAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuMzQyNTMyIgogICAgICAgICB4PSIyMDUuNjczODQiCiAgICAgICAgIHk9IjE0NS41Nzg5NSIKICAgICAgICAgaWQ9InRleHQxMDI3OSI+PHRzcGFuCiAgICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgICBpZD0idHNwYW4xMDI3NyIKICAgICAgICAgICB4PSIyMDUuNjczODQiCiAgICAgICAgICAgeT0iMTQ1LjU3ODk1IgogICAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtZmFtaWx5OidCb29rbWFuIE9sZCBTdHlsZSc7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonQm9va21hbiBPbGQgU3R5bGUnO2ZpbGw6IzkzMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MC4zNDI1MzIiPkRldGVjdG9yQ2VudHJlPC90c3Bhbj48L3RleHQ+CiAgICAgIDx0ZXh0CiAgICAgICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjYuNDk2MDNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6MHB4O3dvcmQtc3BhY2luZzowcHg7ZmlsbDojOTMwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjM0MjUzMiIKICAgICAgICAgeD0iODAuODc2Mzk2IgogICAgICAgICB5PSIyMTMuMzIzMjMiCiAgICAgICAgIGlkPSJ0ZXh0MTAyODUiCiAgICAgICAgIHRyYW5zZm9ybT0icm90YXRlKC0yNy41OTU1OTkpIj48dHNwYW4KICAgICAgICAgICBzb2RpcG9kaTpyb2xlPSJsaW5lIgogICAgICAgICAgIGlkPSJ0c3BhbjEwMjgzIgogICAgICAgICAgIHg9IjgwLjg3NjM5NiIKICAgICAgICAgICB5PSIyMTMuMzIzMjMiCiAgICAgICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1mYW1pbHk6J0Jvb2ttYW4gT2xkIFN0eWxlJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidCb29rbWFuIE9sZCBTdHlsZSc7ZmlsbDojOTMwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDowLjM0MjUzMiI+RGV0ZWN0b3JOb3JtYWw8L3RzcGFuPjwvdGV4dD4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC4zNDI1MzJweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIDIzNS4xOTIxMSwxNDAuMjY4NjIgViAxMTguNDYwNDYiCiAgICAgICAgIGlkPSJwYXRoMTAyODciIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMzQyNTMzcHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAxMDcuODEyMDUsMTYwLjQ2NjU0IDk0LjUwMTMzOCwxMjMuODE3NjQiCiAgICAgICAgIGlkPSJwYXRoMTAzNDEiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiNmZjAwMDA7c3Ryb2tlLXdpZHRoOjAuODYwOTIxO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICAgIGQ9Ik0gLTE5LjI5NzYyOSwxNDMuMzEyMjEgMTA4LjA3MTMzLDE2MC4yNDgzNCAyMjguNzEyMjQsOTcuMTQzODYxIgogICAgICAgICBpZD0icGF0aDk1NzAiIC8+CiAgICAgIDx0ZXh0CiAgICAgICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjYuNDk2MDNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6MHB4O3dvcmQtc3BhY2luZzowcHg7ZmlsbDojOTMwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjM0MjUzMiIKICAgICAgICAgeD0iODIuODM2NjU1IgogICAgICAgICB5PSIxMjIuMjIzOTQiCiAgICAgICAgIGlkPSJ0ZXh0NjUxIj48dHNwYW4KICAgICAgICAgICBzb2RpcG9kaTpyb2xlPSJsaW5lIgogICAgICAgICAgIGlkPSJ0c3BhbjY0OSIKICAgICAgICAgICB4PSI4Mi44MzY2NTUiCiAgICAgICAgICAgeT0iMTIyLjIyMzk0IgogICAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtZmFtaWx5OidCb29rbWFuIE9sZCBTdHlsZSc7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonQm9va21hbiBPbGQgU3R5bGUnO2ZpbGw6IzkzMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MC4zNDI1MzIiPlJlZlBvaW50PC90c3Bhbj48L3RleHQ+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K" alt="Illustration of the detector plane." /></p>
</div>

                        <input id="mod-ModuleDetector-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-ModuleDetector-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="sd">Provides a class which represents a virtual detector —a plane in 3D space— with methods</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">to analyze the impact points of a ray bundle intercepting it.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="sd">![Illustration of the detector plane.](../documentation/detector.svg)</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="sd">Created in Sept 2020</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="sd">@author: Stefan Haessler</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="c1">#%% Modules</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="kn">import</span> <span class="nn">ART.ModuleProcessing</span> <span class="k">as</span> <span class="nn">mp</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="kn">import</span> <span class="nn">ART.ModuleGeometry</span> <span class="k">as</span> <span class="nn">mgeo</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="n">LightSpeed</span> <span class="o">=</span> <span class="mi">299792458000</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="c1">#%%</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="k">class</span> <span class="nc">Detector</span><span class="p">:</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; </span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="sd">    A detector is simply a plane in 3D-lab-space.</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">    It is defined by a point Detector.centre and its</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="sd">    normal vector Detector.normal (thought to point towards the incoming rays).</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="sd">    These are optional arguments when creating a Detector-instance, because they can</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="sd">    later be set automatically by the method Detector.autoplace().</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="sd">    The Detector has a reference point &quot;RefPoint&quot;, with respect to which a distance</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="sd">    can be returned via the method Detector.get distance.</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="sd">    </span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="sd">    Attributes</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="sd">    ----------</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="sd">        centre : np.ndarray</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="sd">            3D Point in the Detector plane.</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="sd">            </span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">        normal : np.ndarray</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">           3D Normal vector on the Detector plane.</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">            </span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">        refpoint : np.ndarray </span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="sd">            3D reference point from which to measure the Detector distance.</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a> 
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RefPoint</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">Centre</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Normal</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="sd">        Parameters</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="sd">        ----------</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="sd">            RefPoint : np.ndarray</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="sd">                3D Reference point from which to measure the Detector distance.</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="sd">            </span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="sd">            Centre : np.ndarray, optional</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">               3D Point in the Detector plane.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">            </span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="sd">            Normal : np.ndarray, optional</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">               3D Normal vector on the Detector plane.</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="o">=</span> <span class="n">Centre</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normal</span> <span class="o">=</span> <span class="n">Normal</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span> <span class="o">=</span> <span class="n">RefPoint</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>   
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="nd">@property</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>    <span class="k">def</span> <span class="nf">centre</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>       
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>    <span class="c1"># a setter function </span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>    <span class="nd">@centre</span><span class="o">.</span><span class="n">setter</span> 
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    <span class="k">def</span> <span class="nf">centre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Centre</span><span class="p">):</span> 
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Centre</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="ow">and</span> <span class="n">Centre</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span> <span class="ow">or</span> <span class="n">Centre</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> 
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">=</span> <span class="n">Centre</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Detector Centre must be a 3D-vector, given as numpy.ndarray of shape (3,).&#39;</span><span class="p">)</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>        
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>         
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="nd">@property</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>    <span class="k">def</span> <span class="nf">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normal</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>       
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>    <span class="nd">@normal</span><span class="o">.</span><span class="n">setter</span> 
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="k">def</span> <span class="nf">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Normal</span><span class="p">):</span> 
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Normal</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="ow">and</span> <span class="n">Normal</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span> <span class="ow">and</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">Normal</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> 
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_normal</span> <span class="o">=</span> <span class="n">Normal</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">Normal</span><span class="p">)</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="k">elif</span> <span class="n">Normal</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_normal</span> <span class="o">=</span> <span class="n">Normal</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Detector Normal must be a 3D-vector of norm &gt;0, given as numpy.ndarray of shape (3,).&#39;</span><span class="p">)</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>    <span class="nd">@property</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>    <span class="k">def</span> <span class="nf">refpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_refpoint</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>       
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>    <span class="c1"># a setter function </span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>    <span class="nd">@refpoint</span><span class="o">.</span><span class="n">setter</span> 
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="k">def</span> <span class="nf">refpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RefPoint</span><span class="p">):</span> 
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">RefPoint</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="ow">and</span> <span class="n">RefPoint</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span> <span class="p">:</span> 
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_refpoint</span> <span class="o">=</span> <span class="n">RefPoint</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Detector RefPoint must a 3D-vector, given as numpy.ndarray of shape (3,).&#39;</span><span class="p">)</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>        
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="c1">#%% METHODS FOR PLACING THE DETECTOR ##################################################################</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>   
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>    <span class="k">def</span> <span class="nf">copy_detector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="sd">        Returns a new Detector object with the same properties.</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="k">return</span> <span class="n">Detector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">)</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>     
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="nf">autoplace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">,</span> <span class="n">DistanceDetector</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="sd">        Automatically place and orient the detector such that it is normal to the central ray</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span class="sd">        of the supplied RayList, at the distance DistanceDetector the origin point of that central ray.</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="sd">        </span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="sd">        Parameters</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a><span class="sd">        ----------</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="sd">            </span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">            DistanceDetector : float</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">                The distance at which to place the Detector.</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>        <span class="n">CentralRay</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">FindCentralRay</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="n">CentralRay</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">RayList</span><span class="p">:</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>                <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="n">DetectorNormal</span> <span class="o">+</span> <span class="n">k</span><span class="o">.</span><span class="n">vector</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>                <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralPoint</span> <span class="o">+</span> <span class="n">k</span><span class="o">.</span><span class="n">point</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="o">-</span><span class="n">DetectorNormal</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>  
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralPoint</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>  
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="k">else</span><span class="p">:</span>    
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="o">-</span><span class="n">CentralRay</span><span class="o">.</span><span class="n">vector</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralRay</span><span class="o">.</span><span class="n">point</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normal</span>  <span class="o">=</span> <span class="n">DetectorNormal</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">centre</span>  <span class="o">=</span> <span class="n">CentralPoint</span> <span class="o">-</span> <span class="n">DetectorNormal</span><span class="o">*</span><span class="n">DistanceDetector</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span> <span class="o">=</span> <span class="n">CentralPoint</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>    <span class="k">def</span> <span class="nf">get_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="sd">        Return distance of the Detector-plane from its reference point Detector.refpoint.</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="o">-</span><span class="n">mgeo</span><span class="o">.</span><span class="n">IntersectionLinePlane</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="p">,</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">))</span>       
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>    
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>    
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>    <span class="k">def</span> <span class="nf">shiftToDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">NewDistance</span> <span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="sd">        Shift the Detector to the distance NewDistance from its reference point Detector.refpoint.</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a><span class="sd">        </span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a><span class="sd">        Parameters</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="sd">        ----------</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="sd">            NewDistance : float</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="sd">                The distance (absolute) to which to shift the Detector.</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">:</span> 
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>            <span class="n">shiftby</span> <span class="o">=</span> <span class="n">NewDistance</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_distance</span><span class="p">()</span> <span class="c1">#by that much in the self.normal-direction</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The new Detector Distance must be int or float.&#39;</span><span class="p">)</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">+=</span> <span class="o">-</span> <span class="n">shiftby</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>    <span class="k">def</span> <span class="nf">shiftByDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Shift</span> <span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a><span class="sd">        Shift the Detector *by* the distance Shift along its normal vector Detector.normal.</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a><span class="sd">        </span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a><span class="sd">        Parameters</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a><span class="sd">        ----------</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="sd">            Shift : float</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="sd">                The distance (relative) *by* which to shift the Detector.</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">:</span> 
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="o">-</span> <span class="n">Shift</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span>  <span class="c1">#directly set _centre, i.e. circumvent setter</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>                                                            <span class="c1">#because we already checked shift here, and centre</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>                                                            <span class="c1">#and normal have been checked before</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The Detector Distance Shift must be int or float.&#39;</span><span class="p">)</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>    <span class="k">def</span> <span class="nf">_iscomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span class="sd">        Checks whether the Detector plane is defined by a centre-point and normal-vector.</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The detector has no centre and normal vectors defined yet.&#39;</span><span class="p">)</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="c1">#%% METHODS TO GET THE DETECTOR REPONSE ##################################################################</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>        
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>    <span class="k">def</span> <span class="nf">get_PointList3D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="sd">        Returns the list of 3D-points in lab-space where the rays in the</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">        list RayList hit the detector plane.</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">        </span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a><span class="sd">        Parameters</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">        ----------</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">            </span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="sd">        Returns</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="sd">        ----------</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a><span class="sd">            ListPointDetector3D : list[np.ndarray of shape (3,)]</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>            <span class="n">append</span> <span class="o">=</span> <span class="n">ListPointDetector3D</span><span class="o">.</span><span class="n">append</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">RayList</span><span class="p">:</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>                <span class="n">append</span><span class="p">(</span><span class="n">mgeo</span><span class="o">.</span><span class="n">IntersectionLinePlane</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">point</span><span class="p">,</span> <span class="n">k</span><span class="o">.</span><span class="n">vector</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">))</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>            <span class="k">return</span> <span class="n">ListPointDetector3D</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>    
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>    <span class="k">def</span> <span class="nf">get_PointList2D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="sd">        Returns the list of 2D-points in the detector plane, with the origin at Detector.centre.</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a><span class="sd">        </span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a><span class="sd">        Parameters</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a><span class="sd">        ----------</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a><span class="sd">            </span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">        Returns</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a><span class="sd">        ----------</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a><span class="sd">            ListPointDetector2D : list[np.ndarray of shape (2,)]</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList3D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>    
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ListPointDetector3D</span><span class="p">]</span> <span class="c1"># Equivalent to taking the detector&#39;s central point as the origin</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="n">mgeo</span><span class="o">.</span><span class="n">RotationPointList</span><span class="p">(</span><span class="n">ListPointDetector3D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>            <span class="n">ListPointDetector2D</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ListPointDetector3D</span><span class="p">]</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>            <span class="k">return</span> <span class="n">ListPointDetector2D</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>    <span class="k">def</span> <span class="nf">get_PointList2DCentre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a><span class="sd">        Returns the list of 2D-points in the detector plane, with the origin centered in the point cloud.</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="sd">        </span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a><span class="sd">        Parameters</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a><span class="sd">        ----------</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a><span class="sd">            RayLis* : list[Ray]</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a><span class="sd">            </span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a><span class="sd">        Returns</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a><span class="sd">        ----------</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="sd">            ListPointDetector2DCentre : list[np.ndarray of shape (2,)]</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>            <span class="n">ListPointDetector2D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList2D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>            <span class="n">ListPointDetector2DCentre</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">CentrePointList</span><span class="p">(</span><span class="n">ListPointDetector2D</span><span class="p">)</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>            <span class="k">return</span> <span class="n">ListPointDetector2DCentre</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>    <span class="k">def</span> <span class="nf">get_Delays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a><span class="sd">        Returns the list of delays of the rays of RayList as they hit the detector plane,</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a><span class="sd">        calculated as their total path length divided by the speed of light.</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a><span class="sd">        The delays are relative to the mean “travel time”, i.e. the mean path length of RayList</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a><span class="sd">        divided by the speed of light.</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a><span class="sd">        The list index corresponds to that of the RayList.        </span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a><span class="sd">        </span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a><span class="sd">        Parameters</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a><span class="sd">        ----------</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a><span class="sd">            </span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a><span class="sd">        Returns</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a><span class="sd">        ----------</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a><span class="sd">            DelayList : list[float]</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>            <span class="n">DetectorPointList3D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList3D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>            <span class="n">OpticalPathList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)):</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>                <span class="n">OpticalPathList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">RayList</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">point</span> <span class="o">-</span> <span class="n">DetectorPointList3D</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">+</span> <span class="n">RayList</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>        
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>            <span class="n">MeanPath</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">OpticalPathList</span><span class="p">)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>            <span class="n">DelayList</span> <span class="o">=</span> <span class="p">[(</span><span class="n">k</span><span class="o">-</span><span class="n">MeanPath</span><span class="p">)</span><span class="o">/</span><span class="n">LightSpeed</span><span class="o">*</span><span class="mf">1e15</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">OpticalPathList</span><span class="p">]</span> <span class="c1"># in fs, c in mm/s</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>            <span class="k">return</span> <span class="n">DelayList</span>
</span></pre></div>


            </section>
                <section id="Detector">
                            <input id="Detector-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Detector</span>:

                <label class="view-source-button" for="Detector-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector-23"><a href="#Detector-23"><span class="linenos"> 23</span></a><span class="k">class</span> <span class="nc">Detector</span><span class="p">:</span>
</span><span id="Detector-24"><a href="#Detector-24"><span class="linenos"> 24</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; </span>
</span><span id="Detector-25"><a href="#Detector-25"><span class="linenos"> 25</span></a><span class="sd">    A detector is simply a plane in 3D-lab-space.</span>
</span><span id="Detector-26"><a href="#Detector-26"><span class="linenos"> 26</span></a><span class="sd">    It is defined by a point Detector.centre and its</span>
</span><span id="Detector-27"><a href="#Detector-27"><span class="linenos"> 27</span></a><span class="sd">    normal vector Detector.normal (thought to point towards the incoming rays).</span>
</span><span id="Detector-28"><a href="#Detector-28"><span class="linenos"> 28</span></a><span class="sd">    These are optional arguments when creating a Detector-instance, because they can</span>
</span><span id="Detector-29"><a href="#Detector-29"><span class="linenos"> 29</span></a><span class="sd">    later be set automatically by the method Detector.autoplace().</span>
</span><span id="Detector-30"><a href="#Detector-30"><span class="linenos"> 30</span></a><span class="sd">    The Detector has a reference point &quot;RefPoint&quot;, with respect to which a distance</span>
</span><span id="Detector-31"><a href="#Detector-31"><span class="linenos"> 31</span></a><span class="sd">    can be returned via the method Detector.get distance.</span>
</span><span id="Detector-32"><a href="#Detector-32"><span class="linenos"> 32</span></a><span class="sd">    </span>
</span><span id="Detector-33"><a href="#Detector-33"><span class="linenos"> 33</span></a><span class="sd">    Attributes</span>
</span><span id="Detector-34"><a href="#Detector-34"><span class="linenos"> 34</span></a><span class="sd">    ----------</span>
</span><span id="Detector-35"><a href="#Detector-35"><span class="linenos"> 35</span></a><span class="sd">        centre : np.ndarray</span>
</span><span id="Detector-36"><a href="#Detector-36"><span class="linenos"> 36</span></a><span class="sd">            3D Point in the Detector plane.</span>
</span><span id="Detector-37"><a href="#Detector-37"><span class="linenos"> 37</span></a><span class="sd">            </span>
</span><span id="Detector-38"><a href="#Detector-38"><span class="linenos"> 38</span></a><span class="sd">        normal : np.ndarray</span>
</span><span id="Detector-39"><a href="#Detector-39"><span class="linenos"> 39</span></a><span class="sd">           3D Normal vector on the Detector plane.</span>
</span><span id="Detector-40"><a href="#Detector-40"><span class="linenos"> 40</span></a><span class="sd">            </span>
</span><span id="Detector-41"><a href="#Detector-41"><span class="linenos"> 41</span></a><span class="sd">        refpoint : np.ndarray </span>
</span><span id="Detector-42"><a href="#Detector-42"><span class="linenos"> 42</span></a><span class="sd">            3D reference point from which to measure the Detector distance.</span>
</span><span id="Detector-43"><a href="#Detector-43"><span class="linenos"> 43</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Detector-44"><a href="#Detector-44"><span class="linenos"> 44</span></a> 
</span><span id="Detector-45"><a href="#Detector-45"><span class="linenos"> 45</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RefPoint</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">Centre</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Normal</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Detector-46"><a href="#Detector-46"><span class="linenos"> 46</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-47"><a href="#Detector-47"><span class="linenos"> 47</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-48"><a href="#Detector-48"><span class="linenos"> 48</span></a><span class="sd">        ----------</span>
</span><span id="Detector-49"><a href="#Detector-49"><span class="linenos"> 49</span></a><span class="sd">            RefPoint : np.ndarray</span>
</span><span id="Detector-50"><a href="#Detector-50"><span class="linenos"> 50</span></a><span class="sd">                3D Reference point from which to measure the Detector distance.</span>
</span><span id="Detector-51"><a href="#Detector-51"><span class="linenos"> 51</span></a><span class="sd">            </span>
</span><span id="Detector-52"><a href="#Detector-52"><span class="linenos"> 52</span></a><span class="sd">            Centre : np.ndarray, optional</span>
</span><span id="Detector-53"><a href="#Detector-53"><span class="linenos"> 53</span></a><span class="sd">               3D Point in the Detector plane.</span>
</span><span id="Detector-54"><a href="#Detector-54"><span class="linenos"> 54</span></a><span class="sd">            </span>
</span><span id="Detector-55"><a href="#Detector-55"><span class="linenos"> 55</span></a><span class="sd">            Normal : np.ndarray, optional</span>
</span><span id="Detector-56"><a href="#Detector-56"><span class="linenos"> 56</span></a><span class="sd">               3D Normal vector on the Detector plane.</span>
</span><span id="Detector-57"><a href="#Detector-57"><span class="linenos"> 57</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-58"><a href="#Detector-58"><span class="linenos"> 58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="o">=</span> <span class="n">Centre</span>
</span><span id="Detector-59"><a href="#Detector-59"><span class="linenos"> 59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normal</span> <span class="o">=</span> <span class="n">Normal</span>
</span><span id="Detector-60"><a href="#Detector-60"><span class="linenos"> 60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span> <span class="o">=</span> <span class="n">RefPoint</span>
</span><span id="Detector-61"><a href="#Detector-61"><span class="linenos"> 61</span></a>   
</span><span id="Detector-62"><a href="#Detector-62"><span class="linenos"> 62</span></a>
</span><span id="Detector-63"><a href="#Detector-63"><span class="linenos"> 63</span></a>    <span class="nd">@property</span>
</span><span id="Detector-64"><a href="#Detector-64"><span class="linenos"> 64</span></a>    <span class="k">def</span> <span class="nf">centre</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="Detector-65"><a href="#Detector-65"><span class="linenos"> 65</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span>
</span><span id="Detector-66"><a href="#Detector-66"><span class="linenos"> 66</span></a>       
</span><span id="Detector-67"><a href="#Detector-67"><span class="linenos"> 67</span></a>    <span class="c1"># a setter function </span>
</span><span id="Detector-68"><a href="#Detector-68"><span class="linenos"> 68</span></a>    <span class="nd">@centre</span><span class="o">.</span><span class="n">setter</span> 
</span><span id="Detector-69"><a href="#Detector-69"><span class="linenos"> 69</span></a>    <span class="k">def</span> <span class="nf">centre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Centre</span><span class="p">):</span> 
</span><span id="Detector-70"><a href="#Detector-70"><span class="linenos"> 70</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Centre</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="ow">and</span> <span class="n">Centre</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span> <span class="ow">or</span> <span class="n">Centre</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> 
</span><span id="Detector-71"><a href="#Detector-71"><span class="linenos"> 71</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">=</span> <span class="n">Centre</span>
</span><span id="Detector-72"><a href="#Detector-72"><span class="linenos"> 72</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Detector Centre must be a 3D-vector, given as numpy.ndarray of shape (3,).&#39;</span><span class="p">)</span>
</span><span id="Detector-73"><a href="#Detector-73"><span class="linenos"> 73</span></a>        
</span><span id="Detector-74"><a href="#Detector-74"><span class="linenos"> 74</span></a>         
</span><span id="Detector-75"><a href="#Detector-75"><span class="linenos"> 75</span></a>    <span class="nd">@property</span>
</span><span id="Detector-76"><a href="#Detector-76"><span class="linenos"> 76</span></a>    <span class="k">def</span> <span class="nf">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="Detector-77"><a href="#Detector-77"><span class="linenos"> 77</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normal</span>
</span><span id="Detector-78"><a href="#Detector-78"><span class="linenos"> 78</span></a>       
</span><span id="Detector-79"><a href="#Detector-79"><span class="linenos"> 79</span></a>    <span class="nd">@normal</span><span class="o">.</span><span class="n">setter</span> 
</span><span id="Detector-80"><a href="#Detector-80"><span class="linenos"> 80</span></a>    <span class="k">def</span> <span class="nf">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Normal</span><span class="p">):</span> 
</span><span id="Detector-81"><a href="#Detector-81"><span class="linenos"> 81</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Normal</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="ow">and</span> <span class="n">Normal</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span> <span class="ow">and</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">Normal</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> 
</span><span id="Detector-82"><a href="#Detector-82"><span class="linenos"> 82</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_normal</span> <span class="o">=</span> <span class="n">Normal</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">Normal</span><span class="p">)</span>
</span><span id="Detector-83"><a href="#Detector-83"><span class="linenos"> 83</span></a>        <span class="k">elif</span> <span class="n">Normal</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Detector-84"><a href="#Detector-84"><span class="linenos"> 84</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_normal</span> <span class="o">=</span> <span class="n">Normal</span>
</span><span id="Detector-85"><a href="#Detector-85"><span class="linenos"> 85</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Detector Normal must be a 3D-vector of norm &gt;0, given as numpy.ndarray of shape (3,).&#39;</span><span class="p">)</span>
</span><span id="Detector-86"><a href="#Detector-86"><span class="linenos"> 86</span></a>        
</span><span id="Detector-87"><a href="#Detector-87"><span class="linenos"> 87</span></a>        
</span><span id="Detector-88"><a href="#Detector-88"><span class="linenos"> 88</span></a>    <span class="nd">@property</span>
</span><span id="Detector-89"><a href="#Detector-89"><span class="linenos"> 89</span></a>    <span class="k">def</span> <span class="nf">refpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="Detector-90"><a href="#Detector-90"><span class="linenos"> 90</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_refpoint</span>
</span><span id="Detector-91"><a href="#Detector-91"><span class="linenos"> 91</span></a>       
</span><span id="Detector-92"><a href="#Detector-92"><span class="linenos"> 92</span></a>    <span class="c1"># a setter function </span>
</span><span id="Detector-93"><a href="#Detector-93"><span class="linenos"> 93</span></a>    <span class="nd">@refpoint</span><span class="o">.</span><span class="n">setter</span> 
</span><span id="Detector-94"><a href="#Detector-94"><span class="linenos"> 94</span></a>    <span class="k">def</span> <span class="nf">refpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RefPoint</span><span class="p">):</span> 
</span><span id="Detector-95"><a href="#Detector-95"><span class="linenos"> 95</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">RefPoint</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="ow">and</span> <span class="n">RefPoint</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span> <span class="p">:</span> 
</span><span id="Detector-96"><a href="#Detector-96"><span class="linenos"> 96</span></a>              <span class="bp">self</span><span class="o">.</span><span class="n">_refpoint</span> <span class="o">=</span> <span class="n">RefPoint</span>
</span><span id="Detector-97"><a href="#Detector-97"><span class="linenos"> 97</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Detector RefPoint must a 3D-vector, given as numpy.ndarray of shape (3,).&#39;</span><span class="p">)</span>
</span><span id="Detector-98"><a href="#Detector-98"><span class="linenos"> 98</span></a>
</span><span id="Detector-99"><a href="#Detector-99"><span class="linenos"> 99</span></a>        
</span><span id="Detector-100"><a href="#Detector-100"><span class="linenos">100</span></a><span class="c1">#%% METHODS FOR PLACING THE DETECTOR ##################################################################</span>
</span><span id="Detector-101"><a href="#Detector-101"><span class="linenos">101</span></a>   
</span><span id="Detector-102"><a href="#Detector-102"><span class="linenos">102</span></a>    <span class="k">def</span> <span class="nf">copy_detector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Detector-103"><a href="#Detector-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-104"><a href="#Detector-104"><span class="linenos">104</span></a><span class="sd">        Returns a new Detector object with the same properties.</span>
</span><span id="Detector-105"><a href="#Detector-105"><span class="linenos">105</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-106"><a href="#Detector-106"><span class="linenos">106</span></a>        <span class="k">return</span> <span class="n">Detector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">)</span>
</span><span id="Detector-107"><a href="#Detector-107"><span class="linenos">107</span></a>     
</span><span id="Detector-108"><a href="#Detector-108"><span class="linenos">108</span></a>    
</span><span id="Detector-109"><a href="#Detector-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">autoplace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">,</span> <span class="n">DistanceDetector</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Detector-110"><a href="#Detector-110"><span class="linenos">110</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-111"><a href="#Detector-111"><span class="linenos">111</span></a><span class="sd">        Automatically place and orient the detector such that it is normal to the central ray</span>
</span><span id="Detector-112"><a href="#Detector-112"><span class="linenos">112</span></a><span class="sd">        of the supplied RayList, at the distance DistanceDetector the origin point of that central ray.</span>
</span><span id="Detector-113"><a href="#Detector-113"><span class="linenos">113</span></a><span class="sd">        </span>
</span><span id="Detector-114"><a href="#Detector-114"><span class="linenos">114</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-115"><a href="#Detector-115"><span class="linenos">115</span></a><span class="sd">        ----------</span>
</span><span id="Detector-116"><a href="#Detector-116"><span class="linenos">116</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector-117"><a href="#Detector-117"><span class="linenos">117</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector-118"><a href="#Detector-118"><span class="linenos">118</span></a><span class="sd">            </span>
</span><span id="Detector-119"><a href="#Detector-119"><span class="linenos">119</span></a><span class="sd">            DistanceDetector : float</span>
</span><span id="Detector-120"><a href="#Detector-120"><span class="linenos">120</span></a><span class="sd">                The distance at which to place the Detector.</span>
</span><span id="Detector-121"><a href="#Detector-121"><span class="linenos">121</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-122"><a href="#Detector-122"><span class="linenos">122</span></a>        <span class="n">CentralRay</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">FindCentralRay</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector-123"><a href="#Detector-123"><span class="linenos">123</span></a>        <span class="k">if</span> <span class="n">CentralRay</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Detector-124"><a href="#Detector-124"><span class="linenos">124</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span><span id="Detector-125"><a href="#Detector-125"><span class="linenos">125</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span><span id="Detector-126"><a href="#Detector-126"><span class="linenos">126</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">RayList</span><span class="p">:</span>
</span><span id="Detector-127"><a href="#Detector-127"><span class="linenos">127</span></a>                <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="n">DetectorNormal</span> <span class="o">+</span> <span class="n">k</span><span class="o">.</span><span class="n">vector</span>
</span><span id="Detector-128"><a href="#Detector-128"><span class="linenos">128</span></a>                <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralPoint</span> <span class="o">+</span> <span class="n">k</span><span class="o">.</span><span class="n">point</span>
</span><span id="Detector-129"><a href="#Detector-129"><span class="linenos">129</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="o">-</span><span class="n">DetectorNormal</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>  
</span><span id="Detector-130"><a href="#Detector-130"><span class="linenos">130</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralPoint</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>  
</span><span id="Detector-131"><a href="#Detector-131"><span class="linenos">131</span></a>        <span class="k">else</span><span class="p">:</span>    
</span><span id="Detector-132"><a href="#Detector-132"><span class="linenos">132</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="o">-</span><span class="n">CentralRay</span><span class="o">.</span><span class="n">vector</span>
</span><span id="Detector-133"><a href="#Detector-133"><span class="linenos">133</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralRay</span><span class="o">.</span><span class="n">point</span>
</span><span id="Detector-134"><a href="#Detector-134"><span class="linenos">134</span></a>        
</span><span id="Detector-135"><a href="#Detector-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normal</span>  <span class="o">=</span> <span class="n">DetectorNormal</span>
</span><span id="Detector-136"><a href="#Detector-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">centre</span>  <span class="o">=</span> <span class="n">CentralPoint</span> <span class="o">-</span> <span class="n">DetectorNormal</span><span class="o">*</span><span class="n">DistanceDetector</span>
</span><span id="Detector-137"><a href="#Detector-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span> <span class="o">=</span> <span class="n">CentralPoint</span>
</span><span id="Detector-138"><a href="#Detector-138"><span class="linenos">138</span></a>
</span><span id="Detector-139"><a href="#Detector-139"><span class="linenos">139</span></a>    <span class="k">def</span> <span class="nf">get_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Detector-140"><a href="#Detector-140"><span class="linenos">140</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-141"><a href="#Detector-141"><span class="linenos">141</span></a><span class="sd">        Return distance of the Detector-plane from its reference point Detector.refpoint.</span>
</span><span id="Detector-142"><a href="#Detector-142"><span class="linenos">142</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-143"><a href="#Detector-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="o">-</span><span class="n">mgeo</span><span class="o">.</span><span class="n">IntersectionLinePlane</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="p">,</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">))</span>       
</span><span id="Detector-144"><a href="#Detector-144"><span class="linenos">144</span></a>    
</span><span id="Detector-145"><a href="#Detector-145"><span class="linenos">145</span></a>    
</span><span id="Detector-146"><a href="#Detector-146"><span class="linenos">146</span></a>    <span class="k">def</span> <span class="nf">shiftToDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">NewDistance</span> <span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Detector-147"><a href="#Detector-147"><span class="linenos">147</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-148"><a href="#Detector-148"><span class="linenos">148</span></a><span class="sd">        Shift the Detector to the distance NewDistance from its reference point Detector.refpoint.</span>
</span><span id="Detector-149"><a href="#Detector-149"><span class="linenos">149</span></a><span class="sd">        </span>
</span><span id="Detector-150"><a href="#Detector-150"><span class="linenos">150</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-151"><a href="#Detector-151"><span class="linenos">151</span></a><span class="sd">        ----------</span>
</span><span id="Detector-152"><a href="#Detector-152"><span class="linenos">152</span></a><span class="sd">            NewDistance : float</span>
</span><span id="Detector-153"><a href="#Detector-153"><span class="linenos">153</span></a><span class="sd">                The distance (absolute) to which to shift the Detector.</span>
</span><span id="Detector-154"><a href="#Detector-154"><span class="linenos">154</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-155"><a href="#Detector-155"><span class="linenos">155</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">:</span> 
</span><span id="Detector-156"><a href="#Detector-156"><span class="linenos">156</span></a>            <span class="n">shiftby</span> <span class="o">=</span> <span class="n">NewDistance</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_distance</span><span class="p">()</span> <span class="c1">#by that much in the self.normal-direction</span>
</span><span id="Detector-157"><a href="#Detector-157"><span class="linenos">157</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The new Detector Distance must be int or float.&#39;</span><span class="p">)</span>
</span><span id="Detector-158"><a href="#Detector-158"><span class="linenos">158</span></a>        
</span><span id="Detector-159"><a href="#Detector-159"><span class="linenos">159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">+=</span> <span class="o">-</span> <span class="n">shiftby</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span>
</span><span id="Detector-160"><a href="#Detector-160"><span class="linenos">160</span></a>
</span><span id="Detector-161"><a href="#Detector-161"><span class="linenos">161</span></a>    <span class="k">def</span> <span class="nf">shiftByDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Shift</span> <span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Detector-162"><a href="#Detector-162"><span class="linenos">162</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-163"><a href="#Detector-163"><span class="linenos">163</span></a><span class="sd">        Shift the Detector *by* the distance Shift along its normal vector Detector.normal.</span>
</span><span id="Detector-164"><a href="#Detector-164"><span class="linenos">164</span></a><span class="sd">        </span>
</span><span id="Detector-165"><a href="#Detector-165"><span class="linenos">165</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-166"><a href="#Detector-166"><span class="linenos">166</span></a><span class="sd">        ----------</span>
</span><span id="Detector-167"><a href="#Detector-167"><span class="linenos">167</span></a><span class="sd">            Shift : float</span>
</span><span id="Detector-168"><a href="#Detector-168"><span class="linenos">168</span></a><span class="sd">                The distance (relative) *by* which to shift the Detector.</span>
</span><span id="Detector-169"><a href="#Detector-169"><span class="linenos">169</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-170"><a href="#Detector-170"><span class="linenos">170</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">:</span> 
</span><span id="Detector-171"><a href="#Detector-171"><span class="linenos">171</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="o">-</span> <span class="n">Shift</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span>  <span class="c1">#directly set _centre, i.e. circumvent setter</span>
</span><span id="Detector-172"><a href="#Detector-172"><span class="linenos">172</span></a>                                                            <span class="c1">#because we already checked shift here, and centre</span>
</span><span id="Detector-173"><a href="#Detector-173"><span class="linenos">173</span></a>                                                            <span class="c1">#and normal have been checked before</span>
</span><span id="Detector-174"><a href="#Detector-174"><span class="linenos">174</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The Detector Distance Shift must be int or float.&#39;</span><span class="p">)</span>
</span><span id="Detector-175"><a href="#Detector-175"><span class="linenos">175</span></a>        
</span><span id="Detector-176"><a href="#Detector-176"><span class="linenos">176</span></a>
</span><span id="Detector-177"><a href="#Detector-177"><span class="linenos">177</span></a>    <span class="k">def</span> <span class="nf">_iscomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Detector-178"><a href="#Detector-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-179"><a href="#Detector-179"><span class="linenos">179</span></a><span class="sd">        Checks whether the Detector plane is defined by a centre-point and normal-vector.</span>
</span><span id="Detector-180"><a href="#Detector-180"><span class="linenos">180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-181"><a href="#Detector-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Detector-182"><a href="#Detector-182"><span class="linenos">182</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The detector has no centre and normal vectors defined yet.&#39;</span><span class="p">)</span>
</span><span id="Detector-183"><a href="#Detector-183"><span class="linenos">183</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Detector-184"><a href="#Detector-184"><span class="linenos">184</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
</span><span id="Detector-185"><a href="#Detector-185"><span class="linenos">185</span></a>        
</span><span id="Detector-186"><a href="#Detector-186"><span class="linenos">186</span></a><span class="c1">#%% METHODS TO GET THE DETECTOR REPONSE ##################################################################</span>
</span><span id="Detector-187"><a href="#Detector-187"><span class="linenos">187</span></a>        
</span><span id="Detector-188"><a href="#Detector-188"><span class="linenos">188</span></a>    <span class="k">def</span> <span class="nf">get_PointList3D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="Detector-189"><a href="#Detector-189"><span class="linenos">189</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-190"><a href="#Detector-190"><span class="linenos">190</span></a><span class="sd">        Returns the list of 3D-points in lab-space where the rays in the</span>
</span><span id="Detector-191"><a href="#Detector-191"><span class="linenos">191</span></a><span class="sd">        list RayList hit the detector plane.</span>
</span><span id="Detector-192"><a href="#Detector-192"><span class="linenos">192</span></a><span class="sd">        </span>
</span><span id="Detector-193"><a href="#Detector-193"><span class="linenos">193</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-194"><a href="#Detector-194"><span class="linenos">194</span></a><span class="sd">        ----------</span>
</span><span id="Detector-195"><a href="#Detector-195"><span class="linenos">195</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector-196"><a href="#Detector-196"><span class="linenos">196</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector-197"><a href="#Detector-197"><span class="linenos">197</span></a><span class="sd">            </span>
</span><span id="Detector-198"><a href="#Detector-198"><span class="linenos">198</span></a><span class="sd">        Returns</span>
</span><span id="Detector-199"><a href="#Detector-199"><span class="linenos">199</span></a><span class="sd">        ----------</span>
</span><span id="Detector-200"><a href="#Detector-200"><span class="linenos">200</span></a><span class="sd">            ListPointDetector3D : list[np.ndarray of shape (3,)]</span>
</span><span id="Detector-201"><a href="#Detector-201"><span class="linenos">201</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-202"><a href="#Detector-202"><span class="linenos">202</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector-203"><a href="#Detector-203"><span class="linenos">203</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Detector-204"><a href="#Detector-204"><span class="linenos">204</span></a>            <span class="n">append</span> <span class="o">=</span> <span class="n">ListPointDetector3D</span><span class="o">.</span><span class="n">append</span>
</span><span id="Detector-205"><a href="#Detector-205"><span class="linenos">205</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">RayList</span><span class="p">:</span>
</span><span id="Detector-206"><a href="#Detector-206"><span class="linenos">206</span></a>                <span class="n">append</span><span class="p">(</span><span class="n">mgeo</span><span class="o">.</span><span class="n">IntersectionLinePlane</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">point</span><span class="p">,</span> <span class="n">k</span><span class="o">.</span><span class="n">vector</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">))</span>
</span><span id="Detector-207"><a href="#Detector-207"><span class="linenos">207</span></a>            <span class="k">return</span> <span class="n">ListPointDetector3D</span>
</span><span id="Detector-208"><a href="#Detector-208"><span class="linenos">208</span></a>    
</span><span id="Detector-209"><a href="#Detector-209"><span class="linenos">209</span></a>    <span class="k">def</span> <span class="nf">get_PointList2D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="Detector-210"><a href="#Detector-210"><span class="linenos">210</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-211"><a href="#Detector-211"><span class="linenos">211</span></a><span class="sd">        Returns the list of 2D-points in the detector plane, with the origin at Detector.centre.</span>
</span><span id="Detector-212"><a href="#Detector-212"><span class="linenos">212</span></a><span class="sd">        </span>
</span><span id="Detector-213"><a href="#Detector-213"><span class="linenos">213</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-214"><a href="#Detector-214"><span class="linenos">214</span></a><span class="sd">        ----------</span>
</span><span id="Detector-215"><a href="#Detector-215"><span class="linenos">215</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector-216"><a href="#Detector-216"><span class="linenos">216</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector-217"><a href="#Detector-217"><span class="linenos">217</span></a><span class="sd">            </span>
</span><span id="Detector-218"><a href="#Detector-218"><span class="linenos">218</span></a><span class="sd">        Returns</span>
</span><span id="Detector-219"><a href="#Detector-219"><span class="linenos">219</span></a><span class="sd">        ----------</span>
</span><span id="Detector-220"><a href="#Detector-220"><span class="linenos">220</span></a><span class="sd">            ListPointDetector2D : list[np.ndarray of shape (2,)]</span>
</span><span id="Detector-221"><a href="#Detector-221"><span class="linenos">221</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-222"><a href="#Detector-222"><span class="linenos">222</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector-223"><a href="#Detector-223"><span class="linenos">223</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList3D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector-224"><a href="#Detector-224"><span class="linenos">224</span></a>    
</span><span id="Detector-225"><a href="#Detector-225"><span class="linenos">225</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ListPointDetector3D</span><span class="p">]</span> <span class="c1"># Equivalent to taking the detector&#39;s central point as the origin</span>
</span><span id="Detector-226"><a href="#Detector-226"><span class="linenos">226</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="n">mgeo</span><span class="o">.</span><span class="n">RotationPointList</span><span class="p">(</span><span class="n">ListPointDetector3D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="Detector-227"><a href="#Detector-227"><span class="linenos">227</span></a>    
</span><span id="Detector-228"><a href="#Detector-228"><span class="linenos">228</span></a>            <span class="n">ListPointDetector2D</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ListPointDetector3D</span><span class="p">]</span>
</span><span id="Detector-229"><a href="#Detector-229"><span class="linenos">229</span></a>            <span class="k">return</span> <span class="n">ListPointDetector2D</span>
</span><span id="Detector-230"><a href="#Detector-230"><span class="linenos">230</span></a>
</span><span id="Detector-231"><a href="#Detector-231"><span class="linenos">231</span></a>    <span class="k">def</span> <span class="nf">get_PointList2DCentre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="Detector-232"><a href="#Detector-232"><span class="linenos">232</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-233"><a href="#Detector-233"><span class="linenos">233</span></a><span class="sd">        Returns the list of 2D-points in the detector plane, with the origin centered in the point cloud.</span>
</span><span id="Detector-234"><a href="#Detector-234"><span class="linenos">234</span></a><span class="sd">        </span>
</span><span id="Detector-235"><a href="#Detector-235"><span class="linenos">235</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-236"><a href="#Detector-236"><span class="linenos">236</span></a><span class="sd">        ----------</span>
</span><span id="Detector-237"><a href="#Detector-237"><span class="linenos">237</span></a><span class="sd">            RayLis* : list[Ray]</span>
</span><span id="Detector-238"><a href="#Detector-238"><span class="linenos">238</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector-239"><a href="#Detector-239"><span class="linenos">239</span></a><span class="sd">            </span>
</span><span id="Detector-240"><a href="#Detector-240"><span class="linenos">240</span></a><span class="sd">        Returns</span>
</span><span id="Detector-241"><a href="#Detector-241"><span class="linenos">241</span></a><span class="sd">        ----------</span>
</span><span id="Detector-242"><a href="#Detector-242"><span class="linenos">242</span></a><span class="sd">            ListPointDetector2DCentre : list[np.ndarray of shape (2,)]</span>
</span><span id="Detector-243"><a href="#Detector-243"><span class="linenos">243</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-244"><a href="#Detector-244"><span class="linenos">244</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector-245"><a href="#Detector-245"><span class="linenos">245</span></a>            <span class="n">ListPointDetector2D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList2D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector-246"><a href="#Detector-246"><span class="linenos">246</span></a>            <span class="n">ListPointDetector2DCentre</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">CentrePointList</span><span class="p">(</span><span class="n">ListPointDetector2D</span><span class="p">)</span>
</span><span id="Detector-247"><a href="#Detector-247"><span class="linenos">247</span></a>            <span class="k">return</span> <span class="n">ListPointDetector2DCentre</span>
</span><span id="Detector-248"><a href="#Detector-248"><span class="linenos">248</span></a>
</span><span id="Detector-249"><a href="#Detector-249"><span class="linenos">249</span></a>
</span><span id="Detector-250"><a href="#Detector-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">get_Delays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
</span><span id="Detector-251"><a href="#Detector-251"><span class="linenos">251</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector-252"><a href="#Detector-252"><span class="linenos">252</span></a><span class="sd">        Returns the list of delays of the rays of RayList as they hit the detector plane,</span>
</span><span id="Detector-253"><a href="#Detector-253"><span class="linenos">253</span></a><span class="sd">        calculated as their total path length divided by the speed of light.</span>
</span><span id="Detector-254"><a href="#Detector-254"><span class="linenos">254</span></a><span class="sd">        The delays are relative to the mean “travel time”, i.e. the mean path length of RayList</span>
</span><span id="Detector-255"><a href="#Detector-255"><span class="linenos">255</span></a><span class="sd">        divided by the speed of light.</span>
</span><span id="Detector-256"><a href="#Detector-256"><span class="linenos">256</span></a><span class="sd">        The list index corresponds to that of the RayList.        </span>
</span><span id="Detector-257"><a href="#Detector-257"><span class="linenos">257</span></a><span class="sd">        </span>
</span><span id="Detector-258"><a href="#Detector-258"><span class="linenos">258</span></a><span class="sd">        Parameters</span>
</span><span id="Detector-259"><a href="#Detector-259"><span class="linenos">259</span></a><span class="sd">        ----------</span>
</span><span id="Detector-260"><a href="#Detector-260"><span class="linenos">260</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector-261"><a href="#Detector-261"><span class="linenos">261</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector-262"><a href="#Detector-262"><span class="linenos">262</span></a><span class="sd">            </span>
</span><span id="Detector-263"><a href="#Detector-263"><span class="linenos">263</span></a><span class="sd">        Returns</span>
</span><span id="Detector-264"><a href="#Detector-264"><span class="linenos">264</span></a><span class="sd">        ----------</span>
</span><span id="Detector-265"><a href="#Detector-265"><span class="linenos">265</span></a><span class="sd">            DelayList : list[float]</span>
</span><span id="Detector-266"><a href="#Detector-266"><span class="linenos">266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector-267"><a href="#Detector-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector-268"><a href="#Detector-268"><span class="linenos">268</span></a>            <span class="n">DetectorPointList3D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList3D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector-269"><a href="#Detector-269"><span class="linenos">269</span></a>            <span class="n">OpticalPathList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Detector-270"><a href="#Detector-270"><span class="linenos">270</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)):</span>
</span><span id="Detector-271"><a href="#Detector-271"><span class="linenos">271</span></a>                <span class="n">OpticalPathList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">RayList</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">point</span> <span class="o">-</span> <span class="n">DetectorPointList3D</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">+</span> <span class="n">RayList</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="Detector-272"><a href="#Detector-272"><span class="linenos">272</span></a>        
</span><span id="Detector-273"><a href="#Detector-273"><span class="linenos">273</span></a>            <span class="n">MeanPath</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">OpticalPathList</span><span class="p">)</span>
</span><span id="Detector-274"><a href="#Detector-274"><span class="linenos">274</span></a>            <span class="n">DelayList</span> <span class="o">=</span> <span class="p">[(</span><span class="n">k</span><span class="o">-</span><span class="n">MeanPath</span><span class="p">)</span><span class="o">/</span><span class="n">LightSpeed</span><span class="o">*</span><span class="mf">1e15</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">OpticalPathList</span><span class="p">]</span> <span class="c1"># in fs, c in mm/s</span>
</span><span id="Detector-275"><a href="#Detector-275"><span class="linenos">275</span></a>            <span class="k">return</span> <span class="n">DelayList</span>
</span></pre></div>


            <div class="docstring"><p>A detector is simply a plane in 3D-lab-space.
It is defined by a point Detector.centre and its
normal vector Detector.normal (thought to point towards the incoming rays).
These are optional arguments when creating a Detector-instance, because they can
later be set automatically by the method <a href="#Detector.autoplace">Detector.autoplace()</a>.
The Detector has a reference point "RefPoint", with respect to which a distance
can be returned via the method Detector.get distance.</p>

<h2 id="attributes">Attributes</h2>

<pre><code>centre : np.ndarray
    3D Point in the Detector plane.

normal : np.ndarray
   3D Normal vector on the Detector plane.

refpoint : np.ndarray 
    3D reference point from which to measure the Detector distance.
</code></pre>
</div>


                            <div id="Detector.__init__" class="classattr">
                                        <input id="Detector.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Detector</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">RefPoint</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span>, </span><span class="param"><span class="n">Centre</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">Normal</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Detector.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.__init__-45"><a href="#Detector.__init__-45"><span class="linenos">45</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RefPoint</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">Centre</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Normal</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Detector.__init__-46"><a href="#Detector.__init__-46"><span class="linenos">46</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.__init__-47"><a href="#Detector.__init__-47"><span class="linenos">47</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.__init__-48"><a href="#Detector.__init__-48"><span class="linenos">48</span></a><span class="sd">        ----------</span>
</span><span id="Detector.__init__-49"><a href="#Detector.__init__-49"><span class="linenos">49</span></a><span class="sd">            RefPoint : np.ndarray</span>
</span><span id="Detector.__init__-50"><a href="#Detector.__init__-50"><span class="linenos">50</span></a><span class="sd">                3D Reference point from which to measure the Detector distance.</span>
</span><span id="Detector.__init__-51"><a href="#Detector.__init__-51"><span class="linenos">51</span></a><span class="sd">            </span>
</span><span id="Detector.__init__-52"><a href="#Detector.__init__-52"><span class="linenos">52</span></a><span class="sd">            Centre : np.ndarray, optional</span>
</span><span id="Detector.__init__-53"><a href="#Detector.__init__-53"><span class="linenos">53</span></a><span class="sd">               3D Point in the Detector plane.</span>
</span><span id="Detector.__init__-54"><a href="#Detector.__init__-54"><span class="linenos">54</span></a><span class="sd">            </span>
</span><span id="Detector.__init__-55"><a href="#Detector.__init__-55"><span class="linenos">55</span></a><span class="sd">            Normal : np.ndarray, optional</span>
</span><span id="Detector.__init__-56"><a href="#Detector.__init__-56"><span class="linenos">56</span></a><span class="sd">               3D Normal vector on the Detector plane.</span>
</span><span id="Detector.__init__-57"><a href="#Detector.__init__-57"><span class="linenos">57</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.__init__-58"><a href="#Detector.__init__-58"><span class="linenos">58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="o">=</span> <span class="n">Centre</span>
</span><span id="Detector.__init__-59"><a href="#Detector.__init__-59"><span class="linenos">59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normal</span> <span class="o">=</span> <span class="n">Normal</span>
</span><span id="Detector.__init__-60"><a href="#Detector.__init__-60"><span class="linenos">60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span> <span class="o">=</span> <span class="n">RefPoint</span>
</span></pre></div>


            <div class="docstring"><h2 id="parameters">Parameters</h2>

<pre><code>RefPoint : np.ndarray
    3D Reference point from which to measure the Detector distance.

Centre : np.ndarray, optional
   3D Point in the Detector plane.

Normal : np.ndarray, optional
   3D Normal vector on the Detector plane.
</code></pre>
</div>


                            </div>
                            <div id="Detector.copy_detector" class="classattr">
                                        <input id="Detector.copy_detector-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">copy_detector</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Detector.copy_detector-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.copy_detector"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.copy_detector-102"><a href="#Detector.copy_detector-102"><span class="linenos">102</span></a>    <span class="k">def</span> <span class="nf">copy_detector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Detector.copy_detector-103"><a href="#Detector.copy_detector-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.copy_detector-104"><a href="#Detector.copy_detector-104"><span class="linenos">104</span></a><span class="sd">        Returns a new Detector object with the same properties.</span>
</span><span id="Detector.copy_detector-105"><a href="#Detector.copy_detector-105"><span class="linenos">105</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.copy_detector-106"><a href="#Detector.copy_detector-106"><span class="linenos">106</span></a>        <span class="k">return</span> <span class="n">Detector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns a new Detector object with the same properties.</p>
</div>


                            </div>
                            <div id="Detector.autoplace" class="classattr">
                                        <input id="Detector.autoplace-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">autoplace</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">RayList</span>, </span><span class="param"><span class="n">DistanceDetector</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Detector.autoplace-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.autoplace"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.autoplace-109"><a href="#Detector.autoplace-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">autoplace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">,</span> <span class="n">DistanceDetector</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Detector.autoplace-110"><a href="#Detector.autoplace-110"><span class="linenos">110</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.autoplace-111"><a href="#Detector.autoplace-111"><span class="linenos">111</span></a><span class="sd">        Automatically place and orient the detector such that it is normal to the central ray</span>
</span><span id="Detector.autoplace-112"><a href="#Detector.autoplace-112"><span class="linenos">112</span></a><span class="sd">        of the supplied RayList, at the distance DistanceDetector the origin point of that central ray.</span>
</span><span id="Detector.autoplace-113"><a href="#Detector.autoplace-113"><span class="linenos">113</span></a><span class="sd">        </span>
</span><span id="Detector.autoplace-114"><a href="#Detector.autoplace-114"><span class="linenos">114</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.autoplace-115"><a href="#Detector.autoplace-115"><span class="linenos">115</span></a><span class="sd">        ----------</span>
</span><span id="Detector.autoplace-116"><a href="#Detector.autoplace-116"><span class="linenos">116</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector.autoplace-117"><a href="#Detector.autoplace-117"><span class="linenos">117</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector.autoplace-118"><a href="#Detector.autoplace-118"><span class="linenos">118</span></a><span class="sd">            </span>
</span><span id="Detector.autoplace-119"><a href="#Detector.autoplace-119"><span class="linenos">119</span></a><span class="sd">            DistanceDetector : float</span>
</span><span id="Detector.autoplace-120"><a href="#Detector.autoplace-120"><span class="linenos">120</span></a><span class="sd">                The distance at which to place the Detector.</span>
</span><span id="Detector.autoplace-121"><a href="#Detector.autoplace-121"><span class="linenos">121</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.autoplace-122"><a href="#Detector.autoplace-122"><span class="linenos">122</span></a>        <span class="n">CentralRay</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">FindCentralRay</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector.autoplace-123"><a href="#Detector.autoplace-123"><span class="linenos">123</span></a>        <span class="k">if</span> <span class="n">CentralRay</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Detector.autoplace-124"><a href="#Detector.autoplace-124"><span class="linenos">124</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span><span id="Detector.autoplace-125"><a href="#Detector.autoplace-125"><span class="linenos">125</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</span><span id="Detector.autoplace-126"><a href="#Detector.autoplace-126"><span class="linenos">126</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">RayList</span><span class="p">:</span>
</span><span id="Detector.autoplace-127"><a href="#Detector.autoplace-127"><span class="linenos">127</span></a>                <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="n">DetectorNormal</span> <span class="o">+</span> <span class="n">k</span><span class="o">.</span><span class="n">vector</span>
</span><span id="Detector.autoplace-128"><a href="#Detector.autoplace-128"><span class="linenos">128</span></a>                <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralPoint</span> <span class="o">+</span> <span class="n">k</span><span class="o">.</span><span class="n">point</span>
</span><span id="Detector.autoplace-129"><a href="#Detector.autoplace-129"><span class="linenos">129</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="o">-</span><span class="n">DetectorNormal</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>  
</span><span id="Detector.autoplace-130"><a href="#Detector.autoplace-130"><span class="linenos">130</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralPoint</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>  
</span><span id="Detector.autoplace-131"><a href="#Detector.autoplace-131"><span class="linenos">131</span></a>        <span class="k">else</span><span class="p">:</span>    
</span><span id="Detector.autoplace-132"><a href="#Detector.autoplace-132"><span class="linenos">132</span></a>            <span class="n">DetectorNormal</span> <span class="o">=</span> <span class="o">-</span><span class="n">CentralRay</span><span class="o">.</span><span class="n">vector</span>
</span><span id="Detector.autoplace-133"><a href="#Detector.autoplace-133"><span class="linenos">133</span></a>            <span class="n">CentralPoint</span> <span class="o">=</span> <span class="n">CentralRay</span><span class="o">.</span><span class="n">point</span>
</span><span id="Detector.autoplace-134"><a href="#Detector.autoplace-134"><span class="linenos">134</span></a>        
</span><span id="Detector.autoplace-135"><a href="#Detector.autoplace-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normal</span>  <span class="o">=</span> <span class="n">DetectorNormal</span>
</span><span id="Detector.autoplace-136"><a href="#Detector.autoplace-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">centre</span>  <span class="o">=</span> <span class="n">CentralPoint</span> <span class="o">-</span> <span class="n">DetectorNormal</span><span class="o">*</span><span class="n">DistanceDetector</span>
</span><span id="Detector.autoplace-137"><a href="#Detector.autoplace-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span> <span class="o">=</span> <span class="n">CentralPoint</span>
</span></pre></div>


            <div class="docstring"><p>Automatically place and orient the detector such that it is normal to the central ray
of the supplied RayList, at the distance DistanceDetector the origin point of that central ray.</p>

<h2 id="parameters">Parameters</h2>

<pre><code>RayList : list[Ray]
    A list of objects of the ModuleOpticalRay.Ray-class. 

DistanceDetector : float
    The distance at which to place the Detector.
</code></pre>
</div>


                            </div>
                            <div id="Detector.get_distance" class="classattr">
                                        <input id="Detector.get_distance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_distance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Detector.get_distance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.get_distance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.get_distance-139"><a href="#Detector.get_distance-139"><span class="linenos">139</span></a>    <span class="k">def</span> <span class="nf">get_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Detector.get_distance-140"><a href="#Detector.get_distance-140"><span class="linenos">140</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.get_distance-141"><a href="#Detector.get_distance-141"><span class="linenos">141</span></a><span class="sd">        Return distance of the Detector-plane from its reference point Detector.refpoint.</span>
</span><span id="Detector.get_distance-142"><a href="#Detector.get_distance-142"><span class="linenos">142</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.get_distance-143"><a href="#Detector.get_distance-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="o">-</span><span class="n">mgeo</span><span class="o">.</span><span class="n">IntersectionLinePlane</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refpoint</span><span class="p">,</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">))</span>       
</span></pre></div>


            <div class="docstring"><p>Return distance of the Detector-plane from its reference point Detector.refpoint.</p>
</div>


                            </div>
                            <div id="Detector.shiftToDistance" class="classattr">
                                        <input id="Detector.shiftToDistance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">shiftToDistance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">NewDistance</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Detector.shiftToDistance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.shiftToDistance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.shiftToDistance-146"><a href="#Detector.shiftToDistance-146"><span class="linenos">146</span></a>    <span class="k">def</span> <span class="nf">shiftToDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">NewDistance</span> <span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Detector.shiftToDistance-147"><a href="#Detector.shiftToDistance-147"><span class="linenos">147</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.shiftToDistance-148"><a href="#Detector.shiftToDistance-148"><span class="linenos">148</span></a><span class="sd">        Shift the Detector to the distance NewDistance from its reference point Detector.refpoint.</span>
</span><span id="Detector.shiftToDistance-149"><a href="#Detector.shiftToDistance-149"><span class="linenos">149</span></a><span class="sd">        </span>
</span><span id="Detector.shiftToDistance-150"><a href="#Detector.shiftToDistance-150"><span class="linenos">150</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.shiftToDistance-151"><a href="#Detector.shiftToDistance-151"><span class="linenos">151</span></a><span class="sd">        ----------</span>
</span><span id="Detector.shiftToDistance-152"><a href="#Detector.shiftToDistance-152"><span class="linenos">152</span></a><span class="sd">            NewDistance : float</span>
</span><span id="Detector.shiftToDistance-153"><a href="#Detector.shiftToDistance-153"><span class="linenos">153</span></a><span class="sd">                The distance (absolute) to which to shift the Detector.</span>
</span><span id="Detector.shiftToDistance-154"><a href="#Detector.shiftToDistance-154"><span class="linenos">154</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.shiftToDistance-155"><a href="#Detector.shiftToDistance-155"><span class="linenos">155</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">NewDistance</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">:</span> 
</span><span id="Detector.shiftToDistance-156"><a href="#Detector.shiftToDistance-156"><span class="linenos">156</span></a>            <span class="n">shiftby</span> <span class="o">=</span> <span class="n">NewDistance</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_distance</span><span class="p">()</span> <span class="c1">#by that much in the self.normal-direction</span>
</span><span id="Detector.shiftToDistance-157"><a href="#Detector.shiftToDistance-157"><span class="linenos">157</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The new Detector Distance must be int or float.&#39;</span><span class="p">)</span>
</span><span id="Detector.shiftToDistance-158"><a href="#Detector.shiftToDistance-158"><span class="linenos">158</span></a>        
</span><span id="Detector.shiftToDistance-159"><a href="#Detector.shiftToDistance-159"><span class="linenos">159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">+=</span> <span class="o">-</span> <span class="n">shiftby</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span>
</span></pre></div>


            <div class="docstring"><p>Shift the Detector to the distance NewDistance from its reference point Detector.refpoint.</p>

<h2 id="parameters">Parameters</h2>

<pre><code>NewDistance : float
    The distance (absolute) to which to shift the Detector.
</code></pre>
</div>


                            </div>
                            <div id="Detector.shiftByDistance" class="classattr">
                                        <input id="Detector.shiftByDistance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">shiftByDistance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">Shift</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Detector.shiftByDistance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.shiftByDistance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.shiftByDistance-161"><a href="#Detector.shiftByDistance-161"><span class="linenos">161</span></a>    <span class="k">def</span> <span class="nf">shiftByDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Shift</span> <span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Detector.shiftByDistance-162"><a href="#Detector.shiftByDistance-162"><span class="linenos">162</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.shiftByDistance-163"><a href="#Detector.shiftByDistance-163"><span class="linenos">163</span></a><span class="sd">        Shift the Detector *by* the distance Shift along its normal vector Detector.normal.</span>
</span><span id="Detector.shiftByDistance-164"><a href="#Detector.shiftByDistance-164"><span class="linenos">164</span></a><span class="sd">        </span>
</span><span id="Detector.shiftByDistance-165"><a href="#Detector.shiftByDistance-165"><span class="linenos">165</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.shiftByDistance-166"><a href="#Detector.shiftByDistance-166"><span class="linenos">166</span></a><span class="sd">        ----------</span>
</span><span id="Detector.shiftByDistance-167"><a href="#Detector.shiftByDistance-167"><span class="linenos">167</span></a><span class="sd">            Shift : float</span>
</span><span id="Detector.shiftByDistance-168"><a href="#Detector.shiftByDistance-168"><span class="linenos">168</span></a><span class="sd">                The distance (relative) *by* which to shift the Detector.</span>
</span><span id="Detector.shiftByDistance-169"><a href="#Detector.shiftByDistance-169"><span class="linenos">169</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.shiftByDistance-170"><a href="#Detector.shiftByDistance-170"><span class="linenos">170</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">Shift</span><span class="p">)</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">:</span> 
</span><span id="Detector.shiftByDistance-171"><a href="#Detector.shiftByDistance-171"><span class="linenos">171</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_centre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="o">-</span> <span class="n">Shift</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">normal</span>  <span class="c1">#directly set _centre, i.e. circumvent setter</span>
</span><span id="Detector.shiftByDistance-172"><a href="#Detector.shiftByDistance-172"><span class="linenos">172</span></a>                                                            <span class="c1">#because we already checked shift here, and centre</span>
</span><span id="Detector.shiftByDistance-173"><a href="#Detector.shiftByDistance-173"><span class="linenos">173</span></a>                                                            <span class="c1">#and normal have been checked before</span>
</span><span id="Detector.shiftByDistance-174"><a href="#Detector.shiftByDistance-174"><span class="linenos">174</span></a>        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The Detector Distance Shift must be int or float.&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Shift the Detector <em>by</em> the distance Shift along its normal vector Detector.normal.</p>

<h2 id="parameters">Parameters</h2>

<pre><code>Shift : float
    The distance (relative) *by* which to shift the Detector.
</code></pre>
</div>


                            </div>
                            <div id="Detector.get_PointList3D" class="classattr">
                                        <input id="Detector.get_PointList3D-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_PointList3D</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">RayList</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Detector.get_PointList3D-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.get_PointList3D"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.get_PointList3D-188"><a href="#Detector.get_PointList3D-188"><span class="linenos">188</span></a>    <span class="k">def</span> <span class="nf">get_PointList3D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="Detector.get_PointList3D-189"><a href="#Detector.get_PointList3D-189"><span class="linenos">189</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.get_PointList3D-190"><a href="#Detector.get_PointList3D-190"><span class="linenos">190</span></a><span class="sd">        Returns the list of 3D-points in lab-space where the rays in the</span>
</span><span id="Detector.get_PointList3D-191"><a href="#Detector.get_PointList3D-191"><span class="linenos">191</span></a><span class="sd">        list RayList hit the detector plane.</span>
</span><span id="Detector.get_PointList3D-192"><a href="#Detector.get_PointList3D-192"><span class="linenos">192</span></a><span class="sd">        </span>
</span><span id="Detector.get_PointList3D-193"><a href="#Detector.get_PointList3D-193"><span class="linenos">193</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.get_PointList3D-194"><a href="#Detector.get_PointList3D-194"><span class="linenos">194</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_PointList3D-195"><a href="#Detector.get_PointList3D-195"><span class="linenos">195</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector.get_PointList3D-196"><a href="#Detector.get_PointList3D-196"><span class="linenos">196</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector.get_PointList3D-197"><a href="#Detector.get_PointList3D-197"><span class="linenos">197</span></a><span class="sd">            </span>
</span><span id="Detector.get_PointList3D-198"><a href="#Detector.get_PointList3D-198"><span class="linenos">198</span></a><span class="sd">        Returns</span>
</span><span id="Detector.get_PointList3D-199"><a href="#Detector.get_PointList3D-199"><span class="linenos">199</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_PointList3D-200"><a href="#Detector.get_PointList3D-200"><span class="linenos">200</span></a><span class="sd">            ListPointDetector3D : list[np.ndarray of shape (3,)]</span>
</span><span id="Detector.get_PointList3D-201"><a href="#Detector.get_PointList3D-201"><span class="linenos">201</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.get_PointList3D-202"><a href="#Detector.get_PointList3D-202"><span class="linenos">202</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector.get_PointList3D-203"><a href="#Detector.get_PointList3D-203"><span class="linenos">203</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Detector.get_PointList3D-204"><a href="#Detector.get_PointList3D-204"><span class="linenos">204</span></a>            <span class="n">append</span> <span class="o">=</span> <span class="n">ListPointDetector3D</span><span class="o">.</span><span class="n">append</span>
</span><span id="Detector.get_PointList3D-205"><a href="#Detector.get_PointList3D-205"><span class="linenos">205</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">RayList</span><span class="p">:</span>
</span><span id="Detector.get_PointList3D-206"><a href="#Detector.get_PointList3D-206"><span class="linenos">206</span></a>                <span class="n">append</span><span class="p">(</span><span class="n">mgeo</span><span class="o">.</span><span class="n">IntersectionLinePlane</span><span class="p">(</span><span class="n">k</span><span class="o">.</span><span class="n">point</span><span class="p">,</span> <span class="n">k</span><span class="o">.</span><span class="n">vector</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">))</span>
</span><span id="Detector.get_PointList3D-207"><a href="#Detector.get_PointList3D-207"><span class="linenos">207</span></a>            <span class="k">return</span> <span class="n">ListPointDetector3D</span>
</span></pre></div>


            <div class="docstring"><p>Returns the list of 3D-points in lab-space where the rays in the
list RayList hit the detector plane.</p>

<h2 id="parameters">Parameters</h2>

<pre><code>RayList : list[Ray]
    A list of objects of the ModuleOpticalRay.Ray-class.
</code></pre>

<h2 id="returns">Returns</h2>

<pre><code>ListPointDetector3D : list[np.ndarray of shape (3,)]
</code></pre>
</div>


                            </div>
                            <div id="Detector.get_PointList2D" class="classattr">
                                        <input id="Detector.get_PointList2D-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_PointList2D</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">RayList</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Detector.get_PointList2D-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.get_PointList2D"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.get_PointList2D-209"><a href="#Detector.get_PointList2D-209"><span class="linenos">209</span></a>    <span class="k">def</span> <span class="nf">get_PointList2D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="Detector.get_PointList2D-210"><a href="#Detector.get_PointList2D-210"><span class="linenos">210</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.get_PointList2D-211"><a href="#Detector.get_PointList2D-211"><span class="linenos">211</span></a><span class="sd">        Returns the list of 2D-points in the detector plane, with the origin at Detector.centre.</span>
</span><span id="Detector.get_PointList2D-212"><a href="#Detector.get_PointList2D-212"><span class="linenos">212</span></a><span class="sd">        </span>
</span><span id="Detector.get_PointList2D-213"><a href="#Detector.get_PointList2D-213"><span class="linenos">213</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.get_PointList2D-214"><a href="#Detector.get_PointList2D-214"><span class="linenos">214</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_PointList2D-215"><a href="#Detector.get_PointList2D-215"><span class="linenos">215</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector.get_PointList2D-216"><a href="#Detector.get_PointList2D-216"><span class="linenos">216</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector.get_PointList2D-217"><a href="#Detector.get_PointList2D-217"><span class="linenos">217</span></a><span class="sd">            </span>
</span><span id="Detector.get_PointList2D-218"><a href="#Detector.get_PointList2D-218"><span class="linenos">218</span></a><span class="sd">        Returns</span>
</span><span id="Detector.get_PointList2D-219"><a href="#Detector.get_PointList2D-219"><span class="linenos">219</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_PointList2D-220"><a href="#Detector.get_PointList2D-220"><span class="linenos">220</span></a><span class="sd">            ListPointDetector2D : list[np.ndarray of shape (2,)]</span>
</span><span id="Detector.get_PointList2D-221"><a href="#Detector.get_PointList2D-221"><span class="linenos">221</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.get_PointList2D-222"><a href="#Detector.get_PointList2D-222"><span class="linenos">222</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector.get_PointList2D-223"><a href="#Detector.get_PointList2D-223"><span class="linenos">223</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList3D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector.get_PointList2D-224"><a href="#Detector.get_PointList2D-224"><span class="linenos">224</span></a>    
</span><span id="Detector.get_PointList2D-225"><a href="#Detector.get_PointList2D-225"><span class="linenos">225</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">centre</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ListPointDetector3D</span><span class="p">]</span> <span class="c1"># Equivalent to taking the detector&#39;s central point as the origin</span>
</span><span id="Detector.get_PointList2D-226"><a href="#Detector.get_PointList2D-226"><span class="linenos">226</span></a>            <span class="n">ListPointDetector3D</span> <span class="o">=</span> <span class="n">mgeo</span><span class="o">.</span><span class="n">RotationPointList</span><span class="p">(</span><span class="n">ListPointDetector3D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normal</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="Detector.get_PointList2D-227"><a href="#Detector.get_PointList2D-227"><span class="linenos">227</span></a>    
</span><span id="Detector.get_PointList2D-228"><a href="#Detector.get_PointList2D-228"><span class="linenos">228</span></a>            <span class="n">ListPointDetector2D</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ListPointDetector3D</span><span class="p">]</span>
</span><span id="Detector.get_PointList2D-229"><a href="#Detector.get_PointList2D-229"><span class="linenos">229</span></a>            <span class="k">return</span> <span class="n">ListPointDetector2D</span>
</span></pre></div>


            <div class="docstring"><p>Returns the list of 2D-points in the detector plane, with the origin at Detector.centre.</p>

<h2 id="parameters">Parameters</h2>

<pre><code>RayList : list[Ray]
    A list of objects of the ModuleOpticalRay.Ray-class.
</code></pre>

<h2 id="returns">Returns</h2>

<pre><code>ListPointDetector2D : list[np.ndarray of shape (2,)]
</code></pre>
</div>


                            </div>
                            <div id="Detector.get_PointList2DCentre" class="classattr">
                                        <input id="Detector.get_PointList2DCentre-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_PointList2DCentre</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">RayList</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Detector.get_PointList2DCentre-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.get_PointList2DCentre"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.get_PointList2DCentre-231"><a href="#Detector.get_PointList2DCentre-231"><span class="linenos">231</span></a>    <span class="k">def</span> <span class="nf">get_PointList2DCentre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</span><span id="Detector.get_PointList2DCentre-232"><a href="#Detector.get_PointList2DCentre-232"><span class="linenos">232</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.get_PointList2DCentre-233"><a href="#Detector.get_PointList2DCentre-233"><span class="linenos">233</span></a><span class="sd">        Returns the list of 2D-points in the detector plane, with the origin centered in the point cloud.</span>
</span><span id="Detector.get_PointList2DCentre-234"><a href="#Detector.get_PointList2DCentre-234"><span class="linenos">234</span></a><span class="sd">        </span>
</span><span id="Detector.get_PointList2DCentre-235"><a href="#Detector.get_PointList2DCentre-235"><span class="linenos">235</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.get_PointList2DCentre-236"><a href="#Detector.get_PointList2DCentre-236"><span class="linenos">236</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_PointList2DCentre-237"><a href="#Detector.get_PointList2DCentre-237"><span class="linenos">237</span></a><span class="sd">            RayLis* : list[Ray]</span>
</span><span id="Detector.get_PointList2DCentre-238"><a href="#Detector.get_PointList2DCentre-238"><span class="linenos">238</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector.get_PointList2DCentre-239"><a href="#Detector.get_PointList2DCentre-239"><span class="linenos">239</span></a><span class="sd">            </span>
</span><span id="Detector.get_PointList2DCentre-240"><a href="#Detector.get_PointList2DCentre-240"><span class="linenos">240</span></a><span class="sd">        Returns</span>
</span><span id="Detector.get_PointList2DCentre-241"><a href="#Detector.get_PointList2DCentre-241"><span class="linenos">241</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_PointList2DCentre-242"><a href="#Detector.get_PointList2DCentre-242"><span class="linenos">242</span></a><span class="sd">            ListPointDetector2DCentre : list[np.ndarray of shape (2,)]</span>
</span><span id="Detector.get_PointList2DCentre-243"><a href="#Detector.get_PointList2DCentre-243"><span class="linenos">243</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.get_PointList2DCentre-244"><a href="#Detector.get_PointList2DCentre-244"><span class="linenos">244</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector.get_PointList2DCentre-245"><a href="#Detector.get_PointList2DCentre-245"><span class="linenos">245</span></a>            <span class="n">ListPointDetector2D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList2D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector.get_PointList2DCentre-246"><a href="#Detector.get_PointList2DCentre-246"><span class="linenos">246</span></a>            <span class="n">ListPointDetector2DCentre</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">CentrePointList</span><span class="p">(</span><span class="n">ListPointDetector2D</span><span class="p">)</span>
</span><span id="Detector.get_PointList2DCentre-247"><a href="#Detector.get_PointList2DCentre-247"><span class="linenos">247</span></a>            <span class="k">return</span> <span class="n">ListPointDetector2DCentre</span>
</span></pre></div>


            <div class="docstring"><p>Returns the list of 2D-points in the detector plane, with the origin centered in the point cloud.</p>

<h2 id="parameters">Parameters</h2>

<pre><code>RayLis* : list[Ray]
    A list of objects of the ModuleOpticalRay.Ray-class.
</code></pre>

<h2 id="returns">Returns</h2>

<pre><code>ListPointDetector2DCentre : list[np.ndarray of shape (2,)]
</code></pre>
</div>


                            </div>
                            <div id="Detector.get_Delays" class="classattr">
                                        <input id="Detector.get_Delays-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_Delays</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">RayList</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Detector.get_Delays-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Detector.get_Delays"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Detector.get_Delays-250"><a href="#Detector.get_Delays-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">get_Delays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">RayList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
</span><span id="Detector.get_Delays-251"><a href="#Detector.get_Delays-251"><span class="linenos">251</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Detector.get_Delays-252"><a href="#Detector.get_Delays-252"><span class="linenos">252</span></a><span class="sd">        Returns the list of delays of the rays of RayList as they hit the detector plane,</span>
</span><span id="Detector.get_Delays-253"><a href="#Detector.get_Delays-253"><span class="linenos">253</span></a><span class="sd">        calculated as their total path length divided by the speed of light.</span>
</span><span id="Detector.get_Delays-254"><a href="#Detector.get_Delays-254"><span class="linenos">254</span></a><span class="sd">        The delays are relative to the mean “travel time”, i.e. the mean path length of RayList</span>
</span><span id="Detector.get_Delays-255"><a href="#Detector.get_Delays-255"><span class="linenos">255</span></a><span class="sd">        divided by the speed of light.</span>
</span><span id="Detector.get_Delays-256"><a href="#Detector.get_Delays-256"><span class="linenos">256</span></a><span class="sd">        The list index corresponds to that of the RayList.        </span>
</span><span id="Detector.get_Delays-257"><a href="#Detector.get_Delays-257"><span class="linenos">257</span></a><span class="sd">        </span>
</span><span id="Detector.get_Delays-258"><a href="#Detector.get_Delays-258"><span class="linenos">258</span></a><span class="sd">        Parameters</span>
</span><span id="Detector.get_Delays-259"><a href="#Detector.get_Delays-259"><span class="linenos">259</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_Delays-260"><a href="#Detector.get_Delays-260"><span class="linenos">260</span></a><span class="sd">            RayList : list[Ray]</span>
</span><span id="Detector.get_Delays-261"><a href="#Detector.get_Delays-261"><span class="linenos">261</span></a><span class="sd">                A list of objects of the ModuleOpticalRay.Ray-class. </span>
</span><span id="Detector.get_Delays-262"><a href="#Detector.get_Delays-262"><span class="linenos">262</span></a><span class="sd">            </span>
</span><span id="Detector.get_Delays-263"><a href="#Detector.get_Delays-263"><span class="linenos">263</span></a><span class="sd">        Returns</span>
</span><span id="Detector.get_Delays-264"><a href="#Detector.get_Delays-264"><span class="linenos">264</span></a><span class="sd">        ----------</span>
</span><span id="Detector.get_Delays-265"><a href="#Detector.get_Delays-265"><span class="linenos">265</span></a><span class="sd">            DelayList : list[float]</span>
</span><span id="Detector.get_Delays-266"><a href="#Detector.get_Delays-266"><span class="linenos">266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Detector.get_Delays-267"><a href="#Detector.get_Delays-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iscomplete</span><span class="p">():</span>
</span><span id="Detector.get_Delays-268"><a href="#Detector.get_Delays-268"><span class="linenos">268</span></a>            <span class="n">DetectorPointList3D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_PointList3D</span><span class="p">(</span><span class="n">RayList</span><span class="p">)</span>
</span><span id="Detector.get_Delays-269"><a href="#Detector.get_Delays-269"><span class="linenos">269</span></a>            <span class="n">OpticalPathList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Detector.get_Delays-270"><a href="#Detector.get_Delays-270"><span class="linenos">270</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">RayList</span><span class="p">)):</span>
</span><span id="Detector.get_Delays-271"><a href="#Detector.get_Delays-271"><span class="linenos">271</span></a>                <span class="n">OpticalPathList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">RayList</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">point</span> <span class="o">-</span> <span class="n">DetectorPointList3D</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">+</span> <span class="n">RayList</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="Detector.get_Delays-272"><a href="#Detector.get_Delays-272"><span class="linenos">272</span></a>        
</span><span id="Detector.get_Delays-273"><a href="#Detector.get_Delays-273"><span class="linenos">273</span></a>            <span class="n">MeanPath</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">OpticalPathList</span><span class="p">)</span>
</span><span id="Detector.get_Delays-274"><a href="#Detector.get_Delays-274"><span class="linenos">274</span></a>            <span class="n">DelayList</span> <span class="o">=</span> <span class="p">[(</span><span class="n">k</span><span class="o">-</span><span class="n">MeanPath</span><span class="p">)</span><span class="o">/</span><span class="n">LightSpeed</span><span class="o">*</span><span class="mf">1e15</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">OpticalPathList</span><span class="p">]</span> <span class="c1"># in fs, c in mm/s</span>
</span><span id="Detector.get_Delays-275"><a href="#Detector.get_Delays-275"><span class="linenos">275</span></a>            <span class="k">return</span> <span class="n">DelayList</span>
</span></pre></div>


            <div class="docstring"><p>Returns the list of delays of the rays of RayList as they hit the detector plane,
calculated as their total path length divided by the speed of light.
The delays are relative to the mean “travel time”, i.e. the mean path length of RayList
divided by the speed of light.
The list index corresponds to that of the RayList.        </p>

<h2 id="parameters">Parameters</h2>

<pre><code>RayList : list[Ray]
    A list of objects of the ModuleOpticalRay.Ray-class.
</code></pre>

<h2 id="returns">Returns</h2>

<pre><code>DelayList : list[float]
</code></pre>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>